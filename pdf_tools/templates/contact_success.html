{% extends 'base.html' %}
{% load static %}

{% block title %}Message Sent Successfully - SmallPDF.us{% endblock %}

{% block content %}
<!-- Success Hero Section -->
<section class="bg-gradient-to-br from-green-500 via-green-600 to-emerald-600 py-16 relative overflow-hidden">
    <!-- Background Pattern -->
    <div class="absolute inset-0 opacity-10">
        <div class="absolute inset-0" style="background-image: radial-gradient(circle at 25% 25%, #ffffff 0%, transparent 50%), radial-gradient(circle at 75% 75%, #ffffff 0%, transparent 50%);"></div>
    </div>
    
    <!-- Animated Elements -->
    <div class="absolute top-20 left-10 w-16 h-16 bg-white/10 rounded-full animate-bounce"></div>
    <div class="absolute top-40 right-20 w-12 h-12 bg-white/15 rounded-full animate-pulse"></div>
    
    <div class="container mx-auto px-4 relative z-10">
        <div class="max-w-2xl mx-auto text-center text-white">
            <!-- Success Icon -->
            <div class="inline-flex items-center justify-center w-24 h-24 bg-white/20 rounded-full mb-8 backdrop-blur-sm animate-pulse">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-12 w-12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path>
                    <polyline points="22 4 12 14.01 9 11.01"></polyline>
                </svg>
            </div>
            
            <h1 class="text-4xl md:text-5xl font-bold mb-6">
                Message Sent Successfully!
            </h1>
            
            <p class="text-xl opacity-90 mb-8 leading-relaxed">
                Thank you for contacting SmallPDF.us. We've received your message and will respond within 2-4 hours during business hours.
            </p>
            
            <!-- Message Details -->
            <div class="bg-white/10 backdrop-blur-sm rounded-xl p-6 mb-8 text-left">
                <h3 class="font-semibold text-lg mb-4 text-center">What happens next?</h3>
                <div class="space-y-3">
                    <div class="flex items-start space-x-3">
                        <div class="bg-white/20 p-1 rounded-full mt-1">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path>
                                <polyline points="22,6 12,13 2,6"></polyline>
                            </svg>
                        </div>
                        <div>
                            <p class="font-medium">Confirmation Email Sent</p>
                            <p class="text-sm opacity-75">Check your inbox for a confirmation email with your message details.</p>
                        </div>
                    </div>
                    
                    <div class="flex items-start space-x-3">
                        <div class="bg-white/20 p-1 rounded-full mt-1">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="12" cy="12" r="10"></circle>
                                <polyline points="12 6 12 12 16 14"></polyline>
                            </svg>
                        </div>
                        <div>
                            <p class="font-medium">Quick Response Time</p>
                            <p class="text-sm opacity-75">Our support team will review your message and respond within 2-4 hours.</p>
                        </div>
                    </div>
                    
                    <div class="flex items-start space-x-3">
                        <div class="bg-white/20 p-1 rounded-full mt-1">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
                                <circle cx="9" cy="7" r="4"></circle>
                                <path d="M23 21v-2a4 4 0 0 0-3-3.87"></path>
                                <path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
                            </svg>
                        </div>
                        <div>
                            <p class="font-medium">Expert Support</p>
                            <p class="text-sm opacity-75">Our knowledgeable team will provide you with the help you need.</p>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Action Buttons -->
            <div class="flex flex-col sm:flex-row gap-4 justify-center">
                <a href="{% url 'home' %}" class="bg-white text-green-600 hover:bg-gray-100 px-8 py-3 rounded-full font-semibold transition-all duration-300 hover:scale-105 shadow-lg">
                    Return to Home
                </a>
                <a href="{% url 'all_tools' %}" class="bg-white/10 hover:bg-white/20 backdrop-blur-sm text-white px-8 py-3 rounded-full font-semibold transition-all duration-300 hover:scale-105 border border-white/20">
                    Browse PDF Tools
                </a>
            </div>
        </div>
    </div>
</section>

<!-- Alternative Contact Methods -->
<section class="py-16 bg-gray-50">
    <div class="container mx-auto px-4">
        <div class="max-w-4xl mx-auto">
            <div class="text-center mb-12">
                <h2 class="text-3xl font-bold text-gray-900 mb-4">Need Immediate Help?</h2>
                <p class="text-gray-600">While you wait for our response, here are other ways to get support</p>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <!-- Live Chat -->
                <div class="bg-white rounded-2xl p-6 text-center shadow-sm hover:shadow-md transition-all duration-300 border border-gray-100">
                    <div class="w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-blue-600" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
                        </svg>
                    </div>
                    <h3 class="font-bold text-lg text-gray-800 mb-2">Live Chat</h3>
                    <p class="text-gray-600 text-sm mb-4">Chat with our support team in real-time</p>
                    <button onclick="openLiveChat()" class="bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors text-sm font-medium">
                        Start Chat
                    </button>
                    <p class="text-xs text-gray-500 mt-2">Available: Mon-Fri 9AM-6PM EST</p>
                </div>
                
                <!-- FAQ -->
                <div class="bg-white rounded-2xl p-6 text-center shadow-sm hover:shadow-md transition-all duration-300 border border-gray-100">
                    <div class="w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-4">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-purple-600" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="12" cy="12" r="10"></circle>
                            <path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"></path>
                            <line x1="12" y1="17" x2="12.01" y2="17"></line>
                        </svg>
                    </div>
                    <h3 class="font-bold text-lg text-gray-800 mb-2">FAQ</h3>
                    <p class="text-gray-600 text-sm mb-4">Find answers to common questions</p>
                    <a href="{% url 'faq' %}" class="bg-purple-600 text-white px-6 py-2 rounded-lg hover:bg-purple-700 transition-colors text-sm font-medium inline-block">
                        Browse FAQ
                    </a>
                    <p class="text-xs text-gray-500 mt-2">Instant answers available 24/7</p>
                </div>
                
                <!-- Help Center -->
                <div class="bg-white rounded-2xl p-6 text-center shadow-sm hover:shadow-md transition-all duration-300 border border-gray-100">
                    <div class="w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-green-600" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M9 11H5a2 2 0 0 0-2 2v3c0 1.1.9 2 2 2h4l3 3V8l-3 3z"></path>
                            <path d="M22 4L12 14L9 11l-1-1"></path>
                        </svg>
                    </div>
                    <h3 class="font-bold text-lg text-gray-800 mb-2">Help Center</h3>
                    <p class="text-gray-600 text-sm mb-4">Comprehensive guides and tutorials</p>
                    <a href="#" class="bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 transition-colors text-sm font-medium inline-block">
                        Visit Help Center
                    </a>
                    <p class="text-xs text-gray-500 mt-2">Step-by-step instructions</p>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Newsletter Signup -->
<section class="py-16 bg-white">
    <div class="container mx-auto px-4">
        <div class="max-w-2xl mx-auto text-center">
            <h2 class="text-3xl font-bold text-gray-900 mb-4">Stay Updated</h2>
            <p class="text-gray-600 mb-8">Get the latest PDF tips, feature updates, and productivity insights delivered to your inbox.</p>
            
            <form id="newsletterForm" class="flex flex-col sm:flex-row gap-4 max-w-md mx-auto">
                <input type="email" id="newsletterEmail" placeholder="Enter your email address" required
                       class="flex-1 px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                <button type="submit" class="bg-blue-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-blue-700 transition-colors">
                    Subscribe
                </button>
            </form>
            
            <p class="text-xs text-gray-500 mt-4">
                We respect your privacy. Unsubscribe at any time.
            </p>
        </div>
    </div>
</section>

<!-- JavaScript -->
<script>
document.addEventListener('DOMContentLoaded', function() {
    // Newsletter form submission
    const newsletterForm = document.getElementById('newsletterForm');
    if (newsletterForm) {
        newsletterForm.addEventListener('submit', function(e) {
            e.preventDefault();
            
            const email = document.getElementById('newsletterEmail').value;
            const submitButton = this.querySelector('button[type="submit"]');
            const originalText = submitButton.textContent;
            
            // Show loading state
            submitButton.disabled = true;
            submitButton.textContent = 'Subscribing...';
            
            // Submit to newsletter API
            fetch('{% url "newsletter_signup" %}', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                    'X-CSRFToken': '{{ csrf_token }}',
                },
                body: JSON.stringify({ email: email })
            })
            .then(response => response.json())
            .then(data => {
                if (data.success) {
                    submitButton.textContent = 'Subscribed!';
                    submitButton.classList.remove('bg-blue-600', 'hover:bg-blue-700');
                    submitButton.classList.add('bg-green-600');
                    document.getElementById('newsletterEmail').value = '';
                    
                    // Show success message
                    const successMsg = document.createElement('p');
                    successMsg.textContent = data.message;
                    successMsg.className = 'text-green-600 text-sm mt-2';
                    newsletterForm.appendChild(successMsg);
                    // Reset button after 3 seconds
                    setTimeout(() => {
                        submitButton.textContent = originalText;
                        submitButton.disabled = false;
                        submitButton.classList.remove('bg-green-600');
                        submitButton.classList.add('bg-blue-600', 'hover:bg-blue-700');
                        if (successMsg && successMsg.parentNode) {
                            successMsg.remove();
                        }
                    }, 3000);
                } else {
                    throw new Error(data.message || 'Subscription failed');
                }
            })
            .catch(error => {
                console.error('Newsletter subscription error:', error);
                submitButton.textContent = 'Try Again';
                submitButton.disabled = false;
                
                // Show error message
                const errorMsg = document.createElement('p');
                errorMsg.textContent = 'Subscription failed. Please try again.';
                errorMsg.className = 'text-red-600 text-sm mt-2';
                newsletterForm.appendChild(errorMsg);
                
                // Reset button after 3 seconds
                setTimeout(() => {
                    submitButton.textContent = originalText;
                    if (errorMsg && errorMsg.parentNode) {
                        errorMsg.remove();
                    }
                }, 3000);
            });
        });
    }
    
    // Auto-redirect after 30 seconds (optional)
    setTimeout(() => {
        const autoRedirect = confirm('Would you like to return to the homepage?');
        if (autoRedirect) {
            window.location.href = '{% url "home" %}';
        }
    }, 30000);
    
    // Confetti animation (optional fun element)
    function createConfetti() {
        const colors = ['#0ea5e9', '#8b5cf6', '#f43f5e', '#10b981', '#f59e0b'];
        const confettiCount = 50;
        
        for (let i = 0; i < confettiCount; i++) {
            const confetti = document.createElement('div');
            confetti.style.position = 'fixed';
            confetti.style.left = Math.random() * 100 + 'vw';
            confetti.style.top = '-10px';
            confetti.style.width = '10px';
            confetti.style.height = '10px';
            confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
            confetti.style.pointerEvents = 'none';
            confetti.style.zIndex = '9999';
            confetti.style.borderRadius = '50%';
            
            document.body.appendChild(confetti);
            
            // Animate confetti falling
            const fallDuration = Math.random() * 3000 + 2000;
            const fallDistance = window.innerHeight + 20;
            
            confetti.animate([
                { transform: 'translateY(0) rotate(0deg)', opacity: 1 },
                { transform: `translateY(${fallDistance}px) rotate(360deg)`, opacity: 0 }
            ], {
                duration: fallDuration,
                easing: 'cubic-bezier(0.25, 0.46, 0.45, 0.94)'
            }).onfinish = () => {
                confetti.remove();
            };
        }
    }
    
    // Trigger confetti on page load
    setTimeout(createConfetti, 500);
});

// Live chat function (placeholder)
function openLiveChat() {
    // This would integrate with your live chat service
    // For now, show a placeholder message
    if (typeof Intercom !== 'undefined') {
        Intercom('show');
    } else if (typeof $crisp !== 'undefined') {
        $crisp.push(['do', 'chat:show']);
    } else if (typeof zE !== 'undefined') {
        zE('webWidget', 'open');
    } else {
        alert('Live chat would open here. Please integrate with your preferred live chat service like Intercom, Zendesk Chat, or Crisp.');
    }
}

// Google Analytics event tracking (if GA is installed)
if (typeof gtag !== 'undefined') {
    gtag('event', 'contact_form_success', {
        'event_category': 'Contact',
        'event_label': 'Form Submission Success'
    });
}

// Facebook Pixel event tracking (if installed)
if (typeof fbq !== 'undefined') {
    fbq('track', 'Contact');
}
</script>

<!-- Schema.org structured data for better SEO -->
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "WebPage",
  "name": "Contact Form Success - SmallPDF.us",
  "description": "Thank you for contacting SmallPDF.us. Your message has been sent successfully.",
  "url": "{{ request.build_absolute_uri }}",
  "mainEntity": {
    "@type": "ContactPoint",
    "contactType": "Customer Service",
    "email": "support@smallpdf.us",
    "telephone": "+1-555-SMALL-PDF",
    "availableLanguage": "English"
  },
  "provider": {
    "@type": "Organization",
    "name": "SmallPDF.us",
    "url": "https://smallpdf.us",
    "logo": "https://smallpdf.us/static/images/logo.png"
  }
}
</script>
{% endblock %}

{% block extra_js %}
<script>
// Additional success page specific JavaScript
document.addEventListener('DOMContentLoaded', function() {
    // Animate elements on page load
    const elements = document.querySelectorAll('.animate-on-load');
    elements.forEach((el, index) => {
        setTimeout(() => {
            el.style.opacity = '1';
            el.style.transform = 'translateY(0)';
        }, index * 200);
    });
    
    // Add smooth hover effects
    const cards = document.querySelectorAll('.hover-card');
    cards.forEach(card => {
        card.addEventListener('mouseenter', function() {
            this.style.transform = 'translateY(-5px) scale(1.02)';
        });
        
        card.addEventListener('mouseleave', function() {
            this.style.transform = 'translateY(0) scale(1)';
        });
    });
});
</script>
{% endblock %}