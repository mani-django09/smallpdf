{% extends 'base.html' %}
{% load static %}

{% block title %}Compress PDF - Reduce PDF File Size Online Free | SmallPDF.us{% endblock %}

{% block meta %}
<meta name="description" content="Compress PDF files online for free with SmallPDF.us. Reduce PDF file size while maintaining quality with our advanced PDF compression tool. No registration required.">
<meta name="keywords" content="compress pdf, reduce pdf size, pdf compressor, online pdf compression, shrink pdf, pdf optimizer, free pdf compression">
<meta property="og:title" content="Compress PDF - Reduce PDF File Size Online Free | SmallPDF.us">
<meta property="og:description" content="Reduce your PDF file size quickly and easily. Free online PDF compressor with advanced compression algorithms.">
<meta property="og:type" content="website">
<meta property="og:url" content="https://smallpdf.us/compress-pdf">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="Compress PDF - Reduce PDF File Size Online Free | SmallPDF.us">
<meta name="twitter:description" content="Compress PDF files online for free with SmallPDF.us. No registration, no email needed.">
{% endblock %}

{% block extra_css %}
<style>
    /* Main container with proper centering and padding */
    .main-wrapper {
        width: 100%;
        min-height: 100vh;
        display: flex;
        justify-content: center;
        padding: 0 1rem;
        background-color: #f8fafc;
    }
    
    .main-container {
        width: 100%;
        max-width: 1200px;
        margin: 0 auto;
    }
    
    .tool-section {
        padding: 2rem 0 4rem 0;
        background-color: transparent;
    }
    
    .tool-header {
        text-align: center;
        margin-bottom: 3rem;
        padding: 0 1rem;
    }
    
    .tool-header h1 {
        font-size: 2.5rem;
        color: #0b132b;
        font-weight: 700;
        margin-bottom: 1rem;
        line-height: 1.2;
    }
    
    .tool-header p {
        color: #64748b;
        max-width: 700px;
        margin: 0 auto;
        font-size: 1.1rem;
        line-height: 1.6;
    }
    
    .converter-container {
        max-width: 800px;
        margin: 0 auto;
        background: white;
        border-radius: 16px;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.08);
        padding: 2.5rem;
        position: relative;
        border: 1px solid #e2e8f0;
    }
    
    .upload-area {
        border: 2px dashed #e2e8f0;
        border-radius: 12px;
        padding: 3rem 2rem;
        text-align: center;
        position: relative;
        transition: all 0.3s ease;
        cursor: pointer;
        background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);
        margin-bottom: 2rem;
    }
    
    .upload-area:hover {
        border-color: #4361ee;
        background: linear-gradient(135deg, #f0f5ff 0%, #e0e7ff 100%);
        transform: translateY(-2px);
    }
    
    .upload-area.dragover {
        border-color: #4361ee;
        background: linear-gradient(135deg, #f0f5ff 0%, #e0e7ff 100%);
        transform: scale(1.02);
    }
    
    .upload-icon {
        width: 80px;
        height: 80px;
        background: rgba(67, 97, 238, 0.1);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        margin: 0 auto 1.5rem;
        transition: all 0.3s ease;
    }
    
    .upload-area:hover .upload-icon {
        background: rgba(67, 97, 238, 0.15);
        transform: scale(1.1);
    }
    
    .upload-icon svg {
        width: 40px;
        height: 40px;
        color: #4361ee;
        transition: all 0.3s ease;
    }
    
    .upload-text h3 {
        font-size: 1.4rem;
        color: #0b132b;
        margin-bottom: 0.5rem;
        font-weight: 600;
    }
    
    .upload-text p {
        color: #64748b;
        margin-bottom: 1.5rem;
        font-size: 1rem;
    }
    
    .upload-btn {
        display: inline-block;
        background: linear-gradient(135deg, #4361ee, #3a0ca3);
        color: white;
        border: none;
        border-radius: 10px;
        padding: 1rem 2.5rem;
        font-weight: 600;
        font-size: 1rem;
        cursor: pointer;
        transition: all 0.3s ease;
        box-shadow: 0 8px 20px rgba(67, 97, 238, 0.3);
        text-decoration: none;
    }
    
    .upload-btn:hover {
        transform: translateY(-3px);
        box-shadow: 0 12px 30px rgba(67, 97, 238, 0.4);
        background: linear-gradient(135deg, #3a0ca3, #4361ee);
    }
    
    /* File Container Styles */
    .file-container {
        margin-top: 2rem;
        display: none;
    }
    
    .file-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 1rem;
        padding: 0 0.5rem;
    }
    
    .file-title {
        font-size: 1.2rem;
        font-weight: 600;
        color: #0b132b;
    }
    
    /* More compact file preview */
    .file-preview {
        background: #ffffff;
        border-radius: 8px;
        box-shadow: 0px 1px 4px rgba(0, 0, 0, 0.08);
        padding: 1rem;
        display: flex;
        align-items: center;
        margin-bottom: 0.75rem;
        border: 1px solid #e2e8f0;
        transition: all 0.2s ease;
    }

    .file-preview:hover {
        box-shadow: 0px 2px 8px rgba(0, 0, 0, 0.12);
        transform: translateY(-1px);
    }

    .file-icon {
        width: 40px;
        height: 40px;
        margin-right: 1rem;
        display: flex;
        align-items: center;
        justify-content: center;
        background: rgba(67, 97, 238, 0.1);
        border-radius: 8px;
        flex-shrink: 0;
    }

    .file-icon svg {
        width: 20px;
        height: 20px;
        color: #4361ee;
    }

    .file-name {
        font-size: 0.95rem;
        font-weight: 600;
        color: #0b132b;
        margin-bottom: 0.25rem;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
    }

    .file-size {
        font-size: 0.8rem;
        color: #64748b;
    }

    .file-remove-btn {
        display: flex;
        align-items: center;
        justify-content: center;
        width: 32px;
        height: 32px;
        border-radius: 50%;
        background: #fee2e2;
        border: none;
        cursor: pointer;
        color: #ef4444;
        transition: all 0.2s ease;
        flex-shrink: 0;
    }

    .file-remove-btn:hover {
        background: #fecaca;
        transform: scale(1.05);
    }

    .file-remove-btn svg {
        width: 14px;
        height: 14px;
    }
    
    .file-info {
        flex: 1;
        min-width: 0;
    }
    
    .file-name {
        font-size: 1.1rem;
        font-weight: 600;
        color: #0b132b;
        margin-bottom: 0.5rem;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
    }
    
    .file-size {
        font-size: 0.9rem;
        color: #64748b;
    }
    
    .file-remove-btn {
        display: flex;
        align-items: center;
        justify-content: center;
        width: 40px;
        height: 40px;
        border-radius: 50%;
        background: #fee2e2;
        border: none;
        cursor: pointer;
        color: #ef4444;
        transition: all 0.2s ease;
        flex-shrink: 0;
    }
    
    .file-remove-btn:hover {
        background: #fecaca;
        transform: scale(1.1);
    }
    
    .file-remove-btn svg {
        width: 18px;
        height: 18px;
    }
    
    /* Options Section */
    .file-options {
        background: #f8fafc;
        border-radius: 12px;
        padding: 2rem;
        margin-bottom: 2rem;
        border: 1px solid #e2e8f0;
    }
    
    .option-title {
        font-size: 1.2rem;
        font-weight: 600;
        color: #0b132b;
        margin-bottom: 1.5rem;
    }
    
    .option-group {
        margin-bottom: 1.5rem;
    }
    
    .option-label {
        display: block;
        font-size: 1rem;
        color: #374151;
        margin-bottom: 0.75rem;
        font-weight: 500;
    }
    
    .option-select {
        width: 100%;
        padding: 1rem;
        border: 1px solid #d1d5db;
        border-radius: 8px;
        font-size: 1rem;
        color: #0b132b;
        background-color: white;
        transition: all 0.2s ease;
    }
    
    .option-select:focus {
        border-color: #4361ee;
        outline: none;
        box-shadow: 0 0 0 3px rgba(67, 97, 238, 0.1);
    }
    
    /* Action Buttons */
    .action-buttons {
        display: flex;
        gap: 1rem;
        margin-top: 2rem;
    }
    
    .action-btn {
        flex: 1;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 0.5rem;
        padding: 1rem 1.5rem;
        border-radius: 8px;
        font-weight: 600;
        font-size: 1rem;
        cursor: pointer;
        transition: all 0.3s ease;
        text-decoration: none;
    }
    
    .secondary-btn {
        background-color: white;
        border: 2px solid #e2e8f0;
        color: #64748b;
    }
    
    .secondary-btn:hover {
        background-color: #f8fafc;
        color: #0b132b;
        border-color: #cbd5e1;
        transform: translateY(-2px);
    }
    
    .primary-btn {
        background: linear-gradient(135deg, #4361ee, #3a0ca3);
        color: white;
        border: none;
        box-shadow: 0 8px 20px rgba(67, 97, 238, 0.3);
    }
    
    .primary-btn:hover {
        transform: translateY(-3px);
        box-shadow: 0 12px 30px rgba(67, 97, 238, 0.4);
    }
    
    .primary-btn:disabled {
        opacity: 0.6;
        cursor: not-allowed;
        transform: none;
    }
    
    /* Compression Results Area */
    .compression-results-area {
        margin-top: 2rem;
        display: none;
    }
    
    .compression-results-header {
        display: flex;
        align-items: center;
        justify-content: space-between;
        margin-bottom: 1rem;
    }
    
    .compression-results-title {
        font-size: 1.2rem;
        font-weight: 600;
        color: #0b132b;
    }
    
    /* Compact stats grid */
    .stats-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
        gap: 1rem;
        text-align: center;
    }

    .stat-item {
        background: white;
        padding: 1rem;
        border-radius: 8px;
        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
    }

    .stat-value {
        font-size: 1.4rem;
        font-weight: 700;
        color: #4361ee;
        display: block;
        margin-bottom: 0.25rem;
    }

    .stat-label {
        font-size: 0.8rem;
        color: #64748b;
        text-transform: uppercase;
        letter-spacing: 0.05em;
    }

    /* Compact compression stats */
    .compression-stats {
        background: #f8fafc;
        border-radius: 12px;
        padding: 1.5rem;
        margin-bottom: 1.5rem;
        border: 1px solid #e2e8f0;
    }

    .compression-savings {
        background: linear-gradient(135deg, #10b981, #059669);
        color: white;
        padding: 0.75rem;
        border-radius: 8px;
        text-align: center;
        margin-bottom: 1rem;
    }

    .savings-text {
        font-size: 1rem;
        font-weight: 600;
    }
    
    .download-compressed-btn {
        display: flex;
        align-items: center;
        justify-content: center;
        background: linear-gradient(135deg, #4361ee, #3a0ca3);
        color: white;
        border: none;
        border-radius: 8px;
        padding: 1rem 2rem;
        font-weight: 600;
        font-size: 1rem;
        cursor: pointer;
        transition: all 0.3s ease;
        box-shadow: 0 8px 20px rgba(67, 97, 238, 0.3);
        margin-top: 1rem;
        gap: 0.5rem;
        width: 100%;
    }
    
    .download-compressed-btn:hover {
        transform: translateY(-3px);
        box-shadow: 0 12px 30px rgba(67, 97, 238, 0.4);
    }
    
    .download-compressed-btn svg {
        width: 18px;
        height: 18px;
    }
    
    /* Success Page Styles */
    .success-page {
        display: none;
        text-align: center;
        padding: 3rem 2rem;
    }
    
    .success-icon {
        width: 100px;
        height: 100px;
        background: linear-gradient(135deg, #10b981, #059669);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        margin: 0 auto 2rem;
        animation: successPulse 2s ease-in-out;
    }
    
    .success-icon svg {
        width: 50px;
        height: 50px;
        color: white;
    }
    
    @keyframes successPulse {
        0% { transform: scale(0.8); opacity: 0; }
        50% { transform: scale(1.1); }
        100% { transform: scale(1); opacity: 1; }
    }
    
    .success-title {
        font-size: 2rem;
        color: #0b132b;
        font-weight: 700;
        margin-bottom: 1rem;
    }
    
    .success-message {
        color: #64748b;
        font-size: 1.1rem;
        margin-bottom: 2rem;
        line-height: 1.6;
    }
    
    .success-stats {
        display: flex;
        justify-content: center;
        gap: 2rem;
        margin-bottom: 3rem;
        flex-wrap: wrap;
    }
    
    .stat-item {
        text-align: center;
    }
    
    .stat-number {
        font-size: 2rem;
        font-weight: 700;
        color: #4361ee;
        display: block;
    }
    
    .stat-label {
        font-size: 0.9rem;
        color: #64748b;
        text-transform: uppercase;
        letter-spacing: 0.05em;
    }
    
    .success-actions {
        display: flex;
        gap: 1rem;
        justify-content: center;
        flex-wrap: wrap;
    }
    
    .success-btn {
        display: flex;
        align-items: center;
        gap: 0.5rem;
        padding: 1rem 2rem;
        border-radius: 8px;
        font-weight: 600;
        font-size: 1rem;
        cursor: pointer;
        transition: all 0.3s ease;
        text-decoration: none;
    }
    
    .success-btn-primary {
        background: linear-gradient(135deg, #4361ee, #3a0ca3);
        color: white;
        border: none;
        box-shadow: 0 8px 20px rgba(67, 97, 238, 0.3);
    }
    
    .success-btn-primary:hover {
        transform: translateY(-3px);
        box-shadow: 0 12px 30px rgba(67, 97, 238, 0.4);
    }
    
    .success-btn-secondary {
        background-color: white;
        border: 2px solid #e2e8f0;
        color: #64748b;
    }
    
    .success-btn-secondary:hover {
        background-color: #f8fafc;
        color: #0b132b;
        border-color: #cbd5e1;
        transform: translateY(-2px);
    }
    
    /* Loading Indicator */
    .loading-indicator {
        display: none;
        text-align: center;
        padding: 2rem;
        background-color: rgba(255, 255, 255, 0.95);
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        z-index: 100;
        border-radius: 16px;
        align-items: center;
        justify-content: center;
        flex-direction: column;
        backdrop-filter: blur(5px);
    }
    
    .loader {
        width: 50px;
        height: 50px;
        border-radius: 50%;
        border: 4px solid #f0f5ff;
        border-top-color: #4361ee;
        animation: spin 1s linear infinite;
        margin-bottom: 1rem;
    }
    
    @keyframes spin {
        to {
            transform: rotate(360deg);
        }
    }
    
    .loading-text {
        font-size: 1.1rem;
        color: #0b132b;
        font-weight: 600;
        margin-bottom: 1rem;
    }
    
    .progress-container {
        width: 100%;
        max-width: 300px;
        height: 6px;
        background-color: #f0f0f0;
        border-radius: 3px;
        margin: 1rem 0;
        overflow: hidden;
    }
    
    .progress-bar {
        height: 100%;
        width: 0;
        background: linear-gradient(90deg, #4361ee, #3a0ca3);
        transition: width 0.3s ease;
        border-radius: 3px;
    }
    
    .progress-text {
        font-size: 0.9rem;
        color: #64748b;
        margin-top: 0.5rem;
    }
    
    /* Hide file input */
    .file-input {
        display: none;
    }
    
    /* Error and success messages */
    .message {
        padding: 1rem 1.5rem;
        border-radius: 8px;
        margin: 1rem 0;
        display: flex;
        align-items: center;
        gap: 0.75rem;
        animation: slideIn 0.3s ease;
    }
    
    .message-error {
        background-color: #fee2e2;
        color: #dc2626;
        border-left: 4px solid #dc2626;
    }
    
    .message-success {
        background-color: #dcfce7;
        color: #166534;
        border-left: 4px solid #16a34a;
    }
    
    .message-icon {
        width: 20px;
        height: 20px;
        flex-shrink: 0;
    }
    
    @keyframes slideIn {
        from {
            opacity: 0;
            transform: translateY(-10px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }

    /* Instructions Section */
    .instructions-section {
        padding: 5rem 0;
        background-color: #f8fafc;
    }
    
    .section-title {
        text-align: center;
        margin-bottom: 3rem;
    }
    
    .section-title h2 {
        font-size: 2.2rem;
        color: #0b132b;
        font-weight: 700;
        margin-bottom: 1rem;
    }
    
    .section-title p {
        color: #64748b;
        max-width: 700px;
        margin: 0 auto;
        font-size: 1.1rem;
        line-height: 1.6;
    }
    
    .instruction-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 2rem;
        max-width: 1200px;
        margin: 0 auto;
    }
    
    .instruction-card {
        background: white;
        border-radius: 12px;
        padding: 2rem;
        box-shadow: 0 10px 25px rgba(0, 0, 0, 0.05);
        position: relative;
        transition: transform 0.3s ease, box-shadow 0.3s ease;
        text-align: center;
    }
    
    .instruction-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1);
    }
    
    .instruction-icon {
        width: 70px;
        height: 70px;
        background: rgba(67, 97, 238, 0.1);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        margin: 0 auto 1.5rem;
    }
    
    .instruction-icon svg {
        width: 32px;
        height: 32px;
        color: #4361ee;
    }
    
    .instruction-card h3 {
        font-size: 1.3rem;
        color: #0b132b;
        margin-bottom: 1rem;
        font-weight: 600;
    }
    
    .instruction-card p {
        color: #64748b;
        font-size: 1rem;
        line-height: 1.6;
    }
    
    /* Features Section */
    .features-section {
        padding: 5rem 0;
        background: white;
        position: relative;
        overflow: hidden;
    }

    .features-section::before {
        content: '';
        position: absolute;
        top: 0;
        right: 0;
        width: 300px;
        height: 300px;
        background: rgba(67, 97, 238, 0.05);
        border-radius: 50%;
        transform: translate(100px, -150px);
        z-index: 0;
    }

    .features-section::after {
        content: '';
        position: absolute;
        bottom: 0;
        left: 0;
        width: 400px;
        height: 400px;
        background: rgba(58, 12, 163, 0.03);
        border-radius: 50%;
        transform: translate(-200px, 200px);
        z-index: 0;
    }

    .features-section .container {
        position: relative;
        z-index: 1;
    }

    .features-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 2.5rem;
        max-width: 1200px;
        margin: 0 auto;
    }

    .feature-card {
        background: #ffffff;
        border-radius: 16px;
        padding: 2.5rem 2rem;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.04);
        transition: transform 0.3s ease, box-shadow 0.3s ease;
        display: flex;
        flex-direction: column;
        align-items: center;
        text-align: center;
        position: relative;
        overflow: hidden;
        border: 1px solid rgba(67, 97, 238, 0.08);
    }

    .feature-card::after {
        content: '';
        position: absolute;
        bottom: 0;
        left: 0;
        width: 100%;
        height: 3px;
        background: linear-gradient(90deg, #4361ee, #3a0ca3);
        transform: scaleX(0);
        transform-origin: left;
        transition: transform 0.3s ease;
    }

    .feature-card:hover {
        transform: translateY(-10px);
        box-shadow: 0 20px 40px rgba(67, 97, 238, 0.1);
    }

    .feature-card:hover::after {
        transform: scaleX(1);
    }

    .feature-card-icon-wrapper {
        margin-bottom: 1.8rem;
        position: relative;
    }

    .feature-card-icon {
        width: 80px;
        height: 80px;
        background: rgba(67, 97, 238, 0.08);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        margin: 0 auto;
        position: relative;
        z-index: 1;
        transition: all 0.3s ease;
    }

    .feature-card:hover .feature-card-icon {
        background: rgba(67, 97, 238, 0.12);
        transform: scale(1.05);
    }

    .feature-card-icon::before {
        content: '';
        position: absolute;
        width: 70px;
        height: 70px;
        border-radius: 50%;
        border: 2px dashed rgba(67, 97, 238, 0.2);
        animation: rotate 20s linear infinite;
    }

    @keyframes rotate {
        0% { transform: rotate(0deg); }
        100% { transform: rotate(360deg); }
    }

    .feature-card-icon svg {
        width: 32px;
        height: 32px;
        color: #4361ee;
        transition: all 0.3s ease;
    }

    .feature-card:hover .feature-card-icon svg {
        transform: scale(1.1);
        color: #3a0ca3;
    }

    .feature-card h3 {
        font-size: 1.3rem;
        color: #0b132b;
        margin-bottom: 1rem;
        font-weight: 700;
        position: relative;
        display: inline-block;
    }

    .feature-card p {
        color: #64748b;
        font-size: 1rem;
        line-height: 1.7;
        max-width: 280px;
        margin: 0 auto;
    }

    /* SEO content section */
    .seo-content {
        padding: 5rem 0;
        background-color: #f8fafc;
        background-image: linear-gradient(135deg, #f8fafc 0%, #eef2ff 100%);
        position: relative;
        border-top: 1px solid rgba(79, 70, 229, 0.1);
        border-bottom: 1px solid rgba(79, 70, 229, 0.1);
    }
    .seo-content::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 5px;
        height: 100%;
        background: linear-gradient(to bottom, #4361ee, #3a0ca3);
        border-radius: 0 2px 2px 0;
    }
    .seo-content .container {
        position: relative;
        padding-left: 2rem;
    }
.seo-content h2 {
        font-size: 2.2rem;
        color: #0b132b;
        margin-bottom: 1.8rem;
        font-weight: 800;
        padding-left: 1.5rem;
        position: relative;
        display: inline-block;
    }
    .seo-content h2::after {
        content: '';
        position: absolute;
        bottom: -10px;
        left: 1.5rem;
        width: 80px;
        height: 4px;
        background: linear-gradient(90deg, #4361ee, #3a0ca3);
        border-radius: 2px;
    }   
    .seo-content h3 {
        font-size: 1.6rem;
        color: #0b132b;
        margin: 2.5rem 0 1.2rem;
        font-weight: 700;
        padding-left: 1.5rem;
        position: relative;
    }
    .seo-content h3::before {
        content: '';
        position: absolute;
        left: 0;
        top: 50%;
        transform: translateY(-50%);
        width: 8px;
        height: 8px;
        background: #4361ee;
        border-radius: 50%;
    }
      
    .seo-content p, .seo-content li {
        color: #475569;
        font-size: 1.05rem;
        line-height: 1.8;
        margin-bottom: 1.2rem;
        padding-left: 1.5rem;
    }
    .seo-content p:first-of-type {
        font-size: 1.15rem;
        color: #1e293b;
        font-weight: 500;
    }  
    .seo-content ul, .seo-content ol {
        margin-left: 3rem;
        margin-bottom: 2rem;
    }
    
    .seo-content li {
        margin-bottom: 0.8rem;
        position: relative;
    }
    .seo-content li strong {
        color: #3a0ca3;
        font-weight: 600;
    }
    
    /* FAQ Section Styles */
    .faq-section {
        padding: 5rem 0;
        background-color: white;
    }
    
    .faq-container {
        max-width: 800px;
        margin: 0 auto;
    }
    
    .faq-item {
        border-bottom: 1px solid #e2e8f0;
        margin-bottom: 1rem;
    }
    
    .faq-question {
        font-size: 1.1rem;
        color: #0b132b;
        font-weight: 600;
        padding: 1.25rem 0;
        cursor: pointer;
        display: flex;
        justify-content: space-between;
        align-items: center;
    }
    
    .faq-question svg {
        width: 18px;
        height: 18px;
        color: #64748b;
        transition: transform 0.3s ease;
    }
    
    .faq-item.active .faq-question svg {
        transform: rotate(180deg);
    }
    
    .faq-answer {
        max-height: 0;
        overflow: hidden;
        transition: max-height 0.3s ease, padding 0.3s ease;
        padding: 0 0;
    }
    
    .faq-item.active .faq-answer {
        max-height: 500px;
        padding-bottom: 1.25rem;
    }
    
    .faq-answer p {
        color: #475569;
        font-size: 1rem;
        line-height: 1.7;
        margin-bottom: 1rem;
    }
    
    .faq-answer ul {
        margin-left: 1.5rem;
        margin-bottom: 1rem;
    }
    
    .faq-answer li {
        color: #475569;
        margin-bottom: 0.5rem;
    }
    
    /* Mini CTA Section */
    .mini-cta-section {
        padding: 3rem 0;
        background: linear-gradient(135deg, #4361ee, #3a0ca3);
        text-align: center;
        color: white;
    }
    
    .mini-cta-section h2 {
        font-size: 1.8rem;
        font-weight: 700;
        margin-bottom: 0.8rem;
    }
    
    .mini-cta-section p {
        font-size: 1rem;
        margin-bottom: 1.5rem;
        max-width: 700px;
        margin-left: auto;
        margin-right: auto;
        opacity: 0.9;
    }
    
    .cta-btn {
        display: inline-block;
        background: white;
        color: #3a0ca3;
        font-weight: 600;
        padding: 0.8rem 2rem;
        border-radius: 8px;
        text-decoration: none;
        transition: transform 0.3s ease, box-shadow 0.3s ease;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
    }
    
    .cta-btn:hover {
        transform: translateY(-3px);
        box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
    }
    
    /* Responsive Design */
    @media (max-width: 768px) {
        .main-wrapper {
            padding: 0 0.5rem;
        }
        
        .tool-section {
            padding: 1.5rem 0 3rem 0;
        }
        
        .tool-header h1 {
            font-size: 2rem;
        }
        
        .tool-header p {
            font-size: 1rem;
        }
        
        .converter-container {
            padding: 1.5rem;
            margin: 0 0.5rem;
        }
        
        .upload-area {
            padding: 2rem 1rem;
        }
        
        .upload-icon {
            width: 70px;
            height: 70px;
        }
        
        .upload-icon svg {
            width: 35px;
            height: 35px;
        }
        
        .upload-text h3 {
            font-size: 1.2rem;
        }
        
        .file-options {
            padding: 1.5rem;
        }
        
        .action-buttons {
            flex-direction: column;
        }
        
        .action-btn {
            width: 100%;
        }
        
        .success-stats {
            gap: 1rem;
        }
        
        .success-actions {
            flex-direction: column;
        }
        
        .success-btn {
            width: 100%;
            justify-content: center;
        }
        
        .stats-grid {
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
        }

        .instruction-grid, .features-grid {
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
        }
        
        .instruction-card, .feature-card {
            padding: 1.5rem;
        }
        
        .instruction-icon, .feature-card-icon {
            width: 60px;
            height: 60px;
        }
        
        .instruction-icon svg, .feature-card-icon svg {
            width: 24px;
            height: 24px;
        }
        
        .file-header {
            flex-direction: column;
            align-items: flex-start;
            gap: 1rem;
        }
    }
    
    @media (max-width: 480px) {
        .converter-container {
            margin: 0;
            border-radius: 0;
        }
        
        .upload-area {
            padding: 1.5rem 1rem;
        }
        
        .file-preview {
            padding: 1rem;
        }
        
        .file-icon {
            width: 50px;
            height: 50px;
            margin-right: 1rem;
        }
        
        .file-icon svg {
            width: 24px;
            height: 24px;
        }
        
        .stats-grid {
            grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
        }
        
        .success-title {
            font-size: 1.5rem;
        }
        
        .stat-number {
            font-size: 1.5rem;
        }

        .section-title h2 {
            font-size: 1.8rem;
        }
        
        .section-title p {
            font-size: 1rem;
        }
    }
</style>
{% endblock %}

{% block content %}
<div class="main-wrapper">
    <div class="main-container">
        <!-- Tool Header Section -->
        <section class="tool-section">
            <div class="tool-header">
                <h1>PDF Compressor</h1>
                <p>Reduce PDF file size while maintaining quality with our advanced compression algorithms. Free, secure, and easy-to-use online PDF compression tool.</p>
            </div>
            
            <div class="converter-container">
                <!-- Upload Area -->
                <div class="upload-area" id="uploadArea">
                    <div class="upload-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                            <polyline points="17 8 12 3 7 8"></polyline>
                            <line x1="12" y1="3" x2="12" y2="15"></line>
                        </svg>
                    </div>
                    <div class="upload-text">
                        <h3>Upload PDF Files to Compress</h3>
                        <p>Drag & drop your PDF files here or click to browse (up to 20 files)</p>
                        <button class="upload-btn" id="selectFileBtn">Select Files</button>
                    </div>
                    <input type="file" id="fileInput" class="file-input" accept=".pdf,application/pdf" multiple>
                </div>
                
                <!-- File Container (Initially Hidden) -->
                <div class="file-container" id="fileContainer">
                    <div class="file-header">
                        <div class="file-title">Selected PDF Files</div>
                    </div>
                    
                    <!-- File Preview -->
                    <div id="filePreviewContainer">
                        <!-- Will be populated dynamically -->
                    </div>
                    
                    <!-- Compression Options -->
                    <div class="file-options">
                        <div class="option-title">Compression Settings</div>
                        
                        <div class="option-group">
                            <label class="option-label" for="compressionLevel">Compression Level</label>
                            <select class="option-select" id="compressionLevel">
                                <option value="low">Low Compression (Better Quality)</option>
                                <option value="medium" selected>Medium Compression (Balanced)</option>
                                <option value="high">High Compression (Smaller Size)</option>
                                <option value="extreme">Extreme Compression (Smallest Size)</option>
                            </select>
                        </div>
                        
                        <div class="option-group">
                            <label class="option-label" for="optimizeFor">Optimize For</label>
                            <select class="option-select" id="optimizeFor">
                                <option value="print" selected>Print Quality</option>
                                <option value="web">Web Viewing</option>
                                <option value="mobile">Mobile Devices</option>
                                <option value="email">Email Attachment</option>
                            </select>
                        </div>
                        
                        <div class="option-group">
                            <label class="option-label" for="colorMode">Color Mode</label>
                            <select class="option-select" id="colorMode">
                                <option value="original" selected>Keep Original Colors</option>
                                <option value="grayscale">Convert to Grayscale</option>
                                <option value="monochrome">Convert to Black & White</option>
                            </select>
                        </div>
                        
                        <div class="option-group">
                            <label class="option-label" for="imageQuality">Image Quality</label>
                            <select class="option-select" id="imageQuality">
                                <option value="high" selected>High Quality</option>
                                <option value="medium">Medium Quality</option>
                                <option value="low">Low Quality (More Compression)</option>
                            </select>
                        </div>
                    </div>
                    
                    <!-- Action Buttons -->
                    <div class="action-buttons">
                        <button class="action-btn secondary-btn" id="changeFileBtn">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                                <polyline points="17 8 12 3 7 8"></polyline>
                                <line x1="12" y1="3" x2="12" y2="15"></line>
                            </svg>
                            Change Files
                        </button>
                        <button class="action-btn primary-btn" id="compressBtn">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <polyline points="16 18 22 12 16 6"></polyline>
                                <polyline points="8 6 2 12 8 18"></polyline>
                            </svg>
                            Compress PDFs
                        </button>
                    </div>
                </div>
                
                <!-- Compression Results Area (Initially Hidden) -->
                <div class="compression-results-area" id="compressionResultsArea">
                    <div class="compression-results-header">
                        <div class="compression-results-title" id="resultsTitle">Compression Complete</div>
                    </div>
                    
                    <div class="compression-stats" id="compressionStats">
                        <div class="compression-savings" id="compressionSavings">
                            <div class="savings-text">You saved <span id="savingsPercentage">0%</span> of file size!</div>
                        </div>
                        
                        <div class="stats-grid">
                            <div class="stat-item">
                                <span class="stat-value" id="originalSize">0 MB</span>
                                <span class="stat-label">Original Size</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-value" id="compressedSize">0 MB</span>
                                <span class="stat-label">Compressed Size</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-value" id="filesProcessed">0</span>
                                <span class="stat-label">Files Processed</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-value" id="compressionRatio">0:1</span>
                                <span class="stat-label">Compression Ratio</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="action-buttons">
                        <button class="action-btn secondary-btn" id="backToFileBtn">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M19 12H5"></path>
                                <polyline points="12 19 5 12 12 5"></polyline>
                            </svg>
                            Back to Files
                        </button>
                        <button class="download-compressed-btn" id="downloadCompressedBtn">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                                <polyline points="7 10 12 15 17 10"></polyline>
                                <line x1="12" y1="15" x2="12" y2="3"></line>
                            </svg>
                            Download Compressed Files
                        </button>
                    </div>
                </div>
                
                <!-- Success Page (Initially Hidden) -->
                <div class="success-page" id="successPage">
                    <div class="success-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path>
                            <polyline points="22 4 12 14.01 9 11.01"></polyline>
                        </svg>
                    </div>
                    <h2 class="success-title">PDFs Successfully Compressed!</h2>
                    <p class="success-message">Your PDF files have been compressed successfully. The compressed files have been downloaded and are ready to use.</p>
                    
                    <div class="success-stats" id="successStats">
                        <div class="stat-item">
                            <span class="stat-number" id="successFilesCount">0</span>
                            <span class="stat-label">Files Compressed</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-number" id="successSavings">0%</span>
                            <span class="stat-label">Size Reduction</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-number" id="successLevel">Medium</span>
                            <span class="stat-label">Compression Level</span>
                        </div>
                    </div>
                    
                    <div class="success-actions">
                        <button class="success-btn success-btn-primary" id="compressAnotherBtn">
                            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                                <polyline points="17 8 12 3 7 8"></polyline>
                                <line x1="12" y1="3" x2="12" y2="15"></line>
                            </svg>
                            Compress More PDFs
                        </button>
                        <a href="{% url 'all_tools' %}" class="success-btn success-btn-secondary">
                            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <rect x="3" y="3" width="7" height="7"></rect>
                                <rect x="14" y="3" width="7" height="7"></rect>
                                <rect x="14" y="14" width="7" height="7"></rect>
                                <rect x="3" y="14" width="7" height="7"></rect>
                            </svg>
                            Explore Other Tools
                        </a>
                    </div>
                </div>
                
                <!-- Loading Indicator -->
                <div class="loading-indicator" id="loadingIndicator">
                    <div class="loader"></div>
                    <div class="loading-text" id="loadingText">Compressing PDF files...</div>
                    <div class="progress-container">
                        <div class="progress-bar" id="progressBar"></div>
                    </div>
                    <div class="progress-text" id="progressText">0%</div>
                </div>
            </div>
        </section>
    </div>
</div>

<!-- Instructions Section -->
<section class="instructions-section">
    <div class="container">
        <div class="section-title">
            <h2>How to Compress PDF Files</h2>
            <p>Reduce your PDF file size in just a few simple steps while maintaining document quality</p>
        </div>
        
        <div class="instruction-grid">
            <div class="instruction-card">
                <div class="instruction-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                        <polyline points="14 2 14 8 20 8"></polyline>
                    </svg>
                </div>
                <h3>Upload Your PDF Files</h3>
                <p>Select up to 20 PDF files you want to compress by clicking "Select Files" or simply drag and drop your PDF files into the upload area.</p>
            </div>
            
            <div class="instruction-card">
                <div class="instruction-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <circle cx="12" cy="12" r="3"></circle>
                        <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path>
                    </svg>
                </div>
                <h3>Choose Compression Settings</h3>
                <p>Select your preferred compression level, optimization target, and image quality settings to balance file size reduction with document quality.</p>
            </div>
            
            <div class="instruction-card">
                <div class="instruction-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <polyline points="16 18 22 12 16 6"></polyline>
                        <polyline points="8 6 2 12 8 18"></polyline>
                    </svg>
                </div>
                <h3>Compress and Download</h3>
                <p>Click the "Compress PDFs" button and wait for the compression to complete. Download your compressed files individually or as a ZIP archive.</p>
            </div>
        </div>
    </div>
</section>

<!-- Features Section -->
<section class="features-section" id="features">
    <div class="container">
        <div class="section-title">
            <h2>Features of Our PDF Compressor</h2>
            <p>Experience the benefits that make SmallPDF.us the preferred choice for compressing PDF documents</p>
        </div>
        
        <div class="features-grid">
            <!-- Card 1: Advanced Compression -->
            <div class="feature-card">
                <div class="feature-card-icon-wrapper">
                    <div class="feature-card-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <polyline points="16 18 22 12 16 6"></polyline>
                            <polyline points="8 6 2 12 8 18"></polyline>
                        </svg>
                    </div>
                </div>
                <h3>Advanced Compression</h3>
                <p>Our intelligent compression algorithms reduce file size by up to 90% while preserving document quality, text clarity, and image sharpness.</p>
            </div>
            
            <!-- Card 2: Multiple Compression Levels -->
            <div class="feature-card">
                <div class="feature-card-icon-wrapper">
                    <div class="feature-card-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <circle cx="12" cy="12" r="3"></circle>
                            <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path>
                        </svg>
                    </div>
                </div>
                <h3>Customizable Settings</h3>
                <p>Choose from multiple compression levels and optimization targets to perfectly balance file size reduction with your specific quality requirements.</p>
            </div>
            
            <!-- Card 3: Batch Processing -->
            <div class="feature-card">
                <div class="feature-card-icon-wrapper">
                    <div class="feature-card-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"></path>
                            <rect x="8" y="2" width="8" height="4" rx="1" ry="1"></rect>
                        </svg>
                    </div>
                </div>
                <h3>Batch Processing</h3>
                <p>Compress up to 20 PDF files simultaneously, saving time and effort when working with multiple documents. Perfect for bulk document processing.</p>
            </div>
            
            <!-- Card 4: 100% Secure -->
            <div class="feature-card">
                <div class="feature-card-icon-wrapper">
                    <div class="feature-card-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"></path>
                        </svg>
                    </div>
                </div>
                <h3>100% Secure</h3>
                <p>Your PDF files are encrypted with 256-bit SSL and automatically deleted after processing to ensure complete privacy. We never store or access your documents.</p>
            </div>
            
            <!-- Card 5: Fast Processing -->
            <div class="feature-card">
                <div class="feature-card-icon-wrapper">
                    <div class="feature-card-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <circle cx="12" cy="12" r="10"></circle>
                            <polyline points="12 6 12 12 16 14"></polyline>
                        </svg>
                    </div>
                </div>
                <h3>Lightning Fast</h3>
                <p>Our powerful cloud servers compress your PDF files within seconds, utilizing advanced algorithms for maximum efficiency without compromising quality.</p>
            </div>
            
            <!-- Card 6: Free & No Registration -->
            <div class="feature-card">
                <div class="feature-card-icon-wrapper">
                    <div class="feature-card-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path>
                            <line x1="7" y1="7" x2="7.01" y2="7"></line>
                        </svg>
                    </div>
                </div>
                <h3>Free & No Registration</h3>
                <p>Compress PDF files completely free without any hidden costs or limitations. No registration or account creation required - just upload and compress.</p>
            </div>
        </div>
    </div>
</section>

<!-- SEO Content Section -->
<section class="seo-content">
    <div class="container">
        <h2>PDF Compressor Online with SmallPDF.us - Fast, Free, and Efficient</h2>
        <p>SmallPDF.us provides a powerful online PDF compressor that reduces your PDF file size by up to 90% while maintaining document quality. Our free service uses advanced compression algorithms to optimize your PDFs for web, email, or storage.</p>
        
        <h3>Why Choose SmallPDF.us to Compress PDF Files?</h3>
        <p>When you need to reduce PDF file size, our online compression tool offers several distinct advantages:</p>
        <ul>
            <li><strong>Intelligent Compression:</strong> Our PDF compressor uses advanced algorithms to analyze your document and apply optimal compression techniques for maximum size reduction.</li>
            <li><strong>Quality Preservation:</strong> Text remains crisp and readable, images maintain their clarity, and document formatting is perfectly preserved throughout the compression process.</li>
            <li><strong>Multiple Compression Levels:</strong> Choose from low, medium, high, or extreme compression levels to balance file size reduction with your quality requirements.</li>
            <li><strong>Batch Processing:</strong> Compress up to 20 PDF files simultaneously, saving time when working with multiple documents.</li>
            <li><strong>Completely Free:</strong> Reduce PDF file size at no cost with no watermarks, file size limits, or unwanted subscriptions.</li>
        </ul>
        
        <h3>Popular Uses for Our PDF Compression Tool</h3>
        <p>Our online PDF compressor helps users across various scenarios optimize their documents:</p>
        <ul>
            <li><strong>Email Attachments:</strong> Compress large PDF files to meet email size limits and ensure faster delivery.</li>
            <li><strong>Web Publishing:</strong> Optimize PDFs for faster website loading times and improved user experience.</li>
            <li><strong>Cloud Storage:</strong> Reduce storage space usage by compressing PDF documents before uploading to cloud services.</li>
            <li><strong>Mobile Sharing:</strong> Create smaller PDF files that are easier to share and download on mobile devices.</li>
            <li><strong>Archive Management:</strong> Compress old documents and reports to save disk space while maintaining accessibility.</li>
        </ul>
        
        <h3>How to Compress PDF Files Online with SmallPDF.us</h3>
        <p>Our free PDF compressor makes file size reduction quick and straightforward:</p>
        <ol>
            <li><strong>Upload Your PDF Files:</strong> Click "Select Files" or drag and drop up to 20 PDF files into the upload area.</li>
            <li><strong>Choose Compression Settings:</strong> Select your preferred compression level, optimization target, and quality settings.</li>
            <li><strong>Compress and Download:</strong> Click "Compress PDFs," wait for processing, and download your optimized files individually or as a ZIP archive.</li>
        </ol>
        <p>The entire PDF compression process takes less than a minute, and your smaller PDF files are ready to use immediately.</p>
        
        <h3>Advanced PDF Compression Tips</h3>
        <p>Get the most out of our online PDF compressor with these professional tips:</p>
        <ul>
            <li><strong>Compression Level Selection:</strong> Use "Medium" for balanced results, "High" for maximum size reduction, or "Low" when quality is paramount.</li>
            <li><strong>Optimization Targets:</strong> Choose "Email" for smallest files, "Web" for online viewing, or "Print" to maintain print quality.</li>
            <li><strong>Color Mode Options:</strong> Convert to grayscale or black & white for additional size reduction when color isn't essential.</li>
            <li><strong>Image Quality Settings:</strong> Reduce image quality for documents where images are supplementary to text content.</li>
            <li><strong>Batch Processing:</strong> Compress multiple files with the same settings to maintain consistency across document sets.</li>
        </ul>
        
        <h3>Why Users Trust SmallPDF.us for PDF Compression</h3>
        <p>SmallPDF.us has become the preferred choice for millions who need to compress PDF files online. Here's why:</p>
        <ul>
            <li><strong>Proven Compression Technology:</strong> Our algorithms consistently achieve 60-90% file size reduction while maintaining document integrity.</li>
            <li><strong>Fast Cloud Processing:</strong> Advanced cloud servers handle compression quickly, regardless of your device's processing power.</li>
            <li><strong>Privacy-Focused:</strong> Your PDF documents are processed securely and automatically deleted after compression.</li>
            <li><strong>Universal Compatibility:</strong> Compressed PDFs work perfectly with all PDF readers and maintain full compatibility.</li>
            <li><strong>Accessible Anywhere:</strong> Compress PDF files on any device with internet access, whether desktop, tablet, or smartphone.</li>
        </ul>
    </div>
</section>

<!-- FAQ Section -->
<section class="faq-section">
    <div class="container">
        <div class="section-title">
            <h2>Frequently Asked Questions</h2>
            <p>Common questions about our PDF compression tool</p>
        </div>
        
        <div class="faq-container">
            <div class="faq-item">
                <div class="faq-question">
                    Is it free to compress PDF files on SmallPDF.us?
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <polyline points="6 9 12 15 18 9"></polyline>
                    </svg>
                </div>
                <div class="faq-answer">
                    <p>Yes, our PDF compressor is completely free to use. There are no hidden fees, watermarks, or limitations on the number of files you can compress. The service is designed to be accessible to everyone without requiring payment or registration.</p>
                </div>
            </div>
            
            <div class="faq-item">
                <div class="faq-question">
                    How much can I reduce my PDF file size?
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <polyline points="6 9 12 15 18 9"></polyline>
                    </svg>
                </div>
                <div class="faq-answer">
                    <p>The compression ratio depends on your original PDF content and chosen settings:</p>
                    <ul>
                        <li><strong>Text-heavy documents:</strong> Typically achieve 30-60% size reduction</li>
                        <li><strong>Image-rich documents:</strong> Can achieve 60-90% size reduction</li>
                        <li><strong>Scanned documents:</strong> Often see the highest compression ratios, up to 95%</li>
                        <li><strong>Mixed content:</strong> Usually achieve 40-70% size reduction</li>
                    </ul>
                    <p>Our intelligent algorithms analyze your document and apply the most effective compression techniques for your specific content type.</p>
                </div>
            </div>
            
            <div class="faq-item">
                <div class="faq-question">
                    Will compression affect the quality of my PDF?
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <polyline points="6 9 12 15 18 9"></polyline>
                    </svg>
                </div>
                <div class="faq-answer">
                    <p>Our compression technology is designed to minimize quality loss while maximizing size reduction:</p>
                    <ul>
                        <li><strong>Text content:</strong> Remains completely crisp and readable at all compression levels</li>
                        <li><strong>Vector graphics:</strong> Maintain perfect clarity as they're resolution-independent</li>
                        <li><strong>Images:</strong> May show slight quality reduction at higher compression levels, but remain clear and usable</li>
                        <li><strong>Document structure:</strong> Formatting, links, and interactive elements are fully preserved</li>
                    </ul>
                    <p>You can choose lower compression levels if maintaining maximum image quality is more important than file size reduction.</p>
                </div>
            </div>
            
            <div class="faq-item">
                <div class="faq-question">
                    Is my data safe when using the PDF compressor?
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <polyline points="6 9 12 15 18 9"></polyline>
                    </svg>
                </div>
                <div class="faq-answer">
                    <p>Absolutely. At SmallPDF.us, we prioritize your privacy and data security:</p>
                    <ul>
                        <li>Your files are encrypted during transfer with secure SSL connections</li>
                        <li>We automatically delete your files from our servers after compression (usually within an hour)</li>
                        <li>We never access, analyze, or share the content of your documents</li>
                        <li>No registration is required, so we don't collect personal information</li>
                        <li>Our servers are located in secure data centers with enterprise-grade protection</li>
                    </ul>
                    <p>Your sensitive documents remain confidential throughout the entire compression process.</p>
                </div>
            </div>
            
            <div class="faq-item">
                <div class="faq-question">
                    What's the maximum file size I can compress?
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <polyline points="6 9 12 15 18 9"></polyline>
                    </svg>
                </div>
                <div class="faq-answer">
                    <p>Our free PDF compressor supports:</p>
                    <ul>
                        <li><strong>Individual files:</strong> Up to 50MB per PDF file</li>
                        <li><strong>Total upload:</strong> Up to 200MB for all files combined</li>
                        <li><strong>File count:</strong> Up to 20 PDF files in a single batch</li>
                        <li><strong>File types:</strong> All standard PDF versions and formats</li>
                    </ul>
                    <p>These limits accommodate most common use cases, including large presentations, detailed reports, and high-resolution scanned documents.</p>
                </div>
            </div>
            
            <div class="faq-item">
                <div class="faq-question">
                    Which compression level should I choose?
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <polyline points="6 9 12 15 18 9"></polyline>
                    </svg>
                </div>
                <div class="faq-answer">
                    <p>Choose the compression level based on your specific needs:</p>
                    <ul>
                        <li><strong>Low Compression:</strong> Best for documents that will be printed or when maximum quality is essential. Achieves 20-40% size reduction.</li>
                        <li><strong>Medium Compression:</strong> Our recommended default setting. Provides excellent balance between quality and file size with 40-60% reduction.</li>
                        <li><strong>High Compression:</strong> Ideal for web sharing and email attachments. Achieves 60-80% size reduction with minimal quality impact.</li>
                        <li><strong>Extreme Compression:</strong> Maximum size reduction for storage or when file size is critical. Can achieve 80-95% reduction.</li>
                    </ul>
                    <p>If you're unsure, start with "Medium Compression" as it provides the best balance for most use cases.</p>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Mini CTA Section -->
<section class="mini-cta-section">
    <div class="container">
        <h2>Try Our Other PDF Tools</h2>
        <p>SmallPDF.us offers a complete suite of tools to handle all your PDF needs</p>
        <a href="{% url 'all_tools' %}" class="cta-btn">Explore All Tools</a>
    </div>
</section>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        // DOM Elements
        const uploadArea = document.getElementById('uploadArea');
        const fileInput = document.getElementById('fileInput');
        const selectFileBtn = document.getElementById('selectFileBtn');
        const fileContainer = document.getElementById('fileContainer');
        const filePreviewContainer = document.getElementById('filePreviewContainer');
        const changeFileBtn = document.getElementById('changeFileBtn');
        const compressBtn = document.getElementById('compressBtn');
        const loadingIndicator = document.getElementById('loadingIndicator');
        const progressBar = document.getElementById('progressBar');
        const progressText = document.getElementById('progressText');
        const loadingText = document.getElementById('loadingText');
        
        // Options elements
        const compressionLevel = document.getElementById('compressionLevel');
        const optimizeFor = document.getElementById('optimizeFor');
        const colorMode = document.getElementById('colorMode');
        const imageQuality = document.getElementById('imageQuality');
        
        // Results elements
        const compressionResultsArea = document.getElementById('compressionResultsArea');
        const resultsTitle = document.getElementById('resultsTitle');
        const compressionStats = document.getElementById('compressionStats');
        const compressionSavings = document.getElementById('compressionSavings');
        const savingsPercentage = document.getElementById('savingsPercentage');
        const originalSize = document.getElementById('originalSize');
        const compressedSize = document.getElementById('compressedSize');
        const filesProcessed = document.getElementById('filesProcessed');
        const compressionRatio = document.getElementById('compressionRatio');
        const downloadCompressedBtn = document.getElementById('downloadCompressedBtn');
        const backToFileBtn = document.getElementById('backToFileBtn');
        
        // Success page elements
        const successPage = document.getElementById('successPage');
        const compressAnotherBtn = document.getElementById('compressAnotherBtn');
        const successFilesCount = document.getElementById('successFilesCount');
        const successSavings = document.getElementById('successSavings');
        const successLevel = document.getElementById('successLevel');
        
        // State variables
        let selectedFiles = [];
        let compressionResults = null;
        let isCompressing = false;
        
        // Event Listeners
        if (selectFileBtn) {
            selectFileBtn.addEventListener('click', function(e) {
                e.preventDefault();
                fileInput.click();
            });
        }
        
        if (fileInput) {
            fileInput.addEventListener('change', handleFileSelection);
        }
        
        if (changeFileBtn) {
            changeFileBtn.addEventListener('click', function(e) {
                e.preventDefault();
                showUploadArea();
            });
        }
        
        if (compressBtn) {
            compressBtn.addEventListener('click', function(e) {
                e.preventDefault();
                if (!isCompressing) {
                    compressPDFs();
                }
            });
        }
        
        if (backToFileBtn) {
            backToFileBtn.addEventListener('click', function(e) {
                e.preventDefault();
                compressionResultsArea.style.display = 'none';
                fileContainer.style.display = 'block';
            });
        }
        
        if (downloadCompressedBtn) {
            downloadCompressedBtn.addEventListener('click', function(e) {
                e.preventDefault();
                downloadCompressedFiles();
            });
        }
        
        if (compressAnotherBtn) {
            compressAnotherBtn.addEventListener('click', function(e) {
                e.preventDefault();
                resetToInitialState();
            });
        }
        
        // Drag and drop functionality
        if (uploadArea) {
            ['dragenter', 'dragover', 'dragleave', 'drop'].forEach(eventName => {
                uploadArea.addEventListener(eventName, preventDefaults, false);
            });
            
            ['dragenter', 'dragover'].forEach(eventName => {
                uploadArea.addEventListener(eventName, highlight, false);
            });
            
            ['dragleave', 'drop'].forEach(eventName => {
                uploadArea.addEventListener(eventName, unhighlight, false);
            });
            
            uploadArea.addEventListener('drop', handleDrop, false);
        }
        
        function preventDefaults(e) {
            e.preventDefault();
            e.stopPropagation();
        }
        
        function highlight() {
            uploadArea.classList.add('dragover');
        }
        
        function unhighlight() {
            uploadArea.classList.remove('dragover');
        }
        
        function handleDrop(e) {
            const dt = e.dataTransfer;
            const files = dt.files;
            handleFiles(files);
        }
        
        function handleFileSelection(e) {
            const files = e.target.files;
            if (files && files.length > 0) {
                handleFiles(files);
                fileInput.value = '';
            }
        }
        
        function handleFiles(files) {
            if (files.length === 0) return;
            
            // Validate file count
            if (files.length > 20) {
                showMessage('Maximum 20 PDF files allowed. Please select fewer files.', 'error');
                return;
            }
            
            // Validate files
            const maxFileSize = 50 * 1024 * 1024; // 50MB
            const maxTotalSize = 200 * 1024 * 1024; // 200MB
            let totalSize = 0;
            const validFiles = [];
            
            for (let i = 0; i < files.length; i++) {
                const file = files[i];
                const fileName = file.name.toLowerCase();
                
                if (!fileName.endsWith('.pdf')) {
                    showMessage(`File "${file.name}" is not a PDF. Please select only PDF files.`, 'error');
                    return;
                }
                
                if (file.size > maxFileSize) {
                    showMessage(`File "${file.name}" exceeds 50MB limit. Please choose a smaller file.`, 'error');
                    return;
                }
                
                totalSize += file.size;
                validFiles.push(file);
            }
            
            if (totalSize > maxTotalSize) {
                showMessage('Total file size exceeds 200MB limit. Please select fewer or smaller files.', 'error');
                return;
            }
            
            selectedFiles = validFiles;
            updateFilePreview();
            showFileContainer();
        }
        
        function updateFilePreview() {
            if (!filePreviewContainer) return;
            
            filePreviewContainer.innerHTML = '';
            
            selectedFiles.forEach((file, index) => {
                const formattedSize = formatFileSize(file.size);
                
                const filePreview = document.createElement('div');
                filePreview.className = 'file-preview';
                filePreview.innerHTML = `
                    <div class="file-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                            <polyline points="14 2 14 8 20 8"></polyline>
                        </svg>
                    </div>
                    <div class="file-info">
                        <div class="file-name">${file.name}</div>
                        <div class="file-size">${formattedSize} - PDF Document</div>
                    </div>
                    <button class="file-remove-btn" data-index="${index}" type="button" aria-label="Remove file">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <line x1="18" y1="6" x2="6" y2="18"></line>
                            <line x1="6" y1="6" x2="18" y2="18"></line>
                        </svg>
                    </button>
                `;
                
                const removeBtn = filePreview.querySelector('.file-remove-btn');
                if (removeBtn) {
                    removeBtn.addEventListener('click', function() {
                        const fileIndex = parseInt(this.getAttribute('data-index'));
                        removeFile(fileIndex);
                    });
                }
                
                filePreviewContainer.appendChild(filePreview);
            });
        }
        
        function removeFile(index) {
            selectedFiles.splice(index, 1);
            
            if (selectedFiles.length === 0) {
                showUploadArea();
            } else {
                updateFilePreview();
            }
        }
        
        function showFileContainer() {
            if (uploadArea) uploadArea.style.display = 'none';
            if (fileContainer) fileContainer.style.display = 'block';
            if (compressionResultsArea) compressionResultsArea.style.display = 'none';
            if (successPage) successPage.style.display = 'none';
        }
        
        function showUploadArea() {
            if (uploadArea) uploadArea.style.display = 'block';
            if (fileContainer) fileContainer.style.display = 'none';
            if (compressionResultsArea) compressionResultsArea.style.display = 'none';
            if (successPage) successPage.style.display = 'none';
            selectedFiles = [];
        }
        
        function showCompressionResults() {
            if (uploadArea) uploadArea.style.display = 'none';
            if (fileContainer) fileContainer.style.display = 'none';
            if (compressionResultsArea) compressionResultsArea.style.display = 'block';
            if (successPage) successPage.style.display = 'none';
        }
        
        function showSuccessPage() {
            if (uploadArea) uploadArea.style.display = 'none';
            if (fileContainer) fileContainer.style.display = 'none';
            if (compressionResultsArea) compressionResultsArea.style.display = 'none';
            if (successPage) successPage.style.display = 'block';
        }
        
        function resetToInitialState() {
            selectedFiles = [];
            compressionResults = null;
            showUploadArea();
            clearMessages();
        }
        
        function formatFileSize(bytes) {
            if (bytes === 0) return '0 Bytes';
            const k = 1024;
            const sizes = ['Bytes', 'KB', 'MB', 'GB'];
            const i = Math.floor(Math.log(bytes) / Math.log(k));
            return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];
        }
        
        function showMessage(message, type = 'error') {
            clearMessages();
            
            const messageDiv = document.createElement('div');
            messageDiv.className = `message message-${type}`;
            
            const iconSvg = type === 'error' ? 
                `<svg class="message-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <circle cx="12" cy="12" r="10"></circle>
                    <line x1="12" y1="8" x2="12" y2="12"></line>
                    <line x1="12" y1="16" x2="12.01" y2="16"></line>
                </svg>` :
                `<svg class="message-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path>
                    <polyline points="22 4 12 14.01 9 11.01"></polyline>
                </svg>`;
            
            messageDiv.innerHTML = `${iconSvg}<span>${message}</span>`;
            
            const container = document.querySelector('.converter-container');
            container.insertBefore(messageDiv, container.firstChild);
            
            setTimeout(() => {
                if (messageDiv.parentNode) {
                    messageDiv.remove();
                }
            }, 5000);
        }
        
        function clearMessages() {
            const messages = document.querySelectorAll('.message');
            messages.forEach(msg => msg.remove());
        }
        
        function compressPDFs() {
            if (!selectedFiles || selectedFiles.length === 0) {
                showMessage('Please select PDF files to compress.', 'error');
                return;
            }
            
            resetProgress();
            showLoader();
            isCompressing = true;
            compressBtn.disabled = true;
            
            const compression_level = compressionLevel ? compressionLevel.value : 'medium';
            const optimize_for = optimizeFor ? optimizeFor.value : 'print';
            const color_mode = colorMode ? colorMode.value : 'original';
            const image_quality = imageQuality ? imageQuality.value : 'high';
            
            loadingText.textContent = 'Compressing PDF files...';
            startProgressSimulation();
            
            const formData = new FormData();
            
            // Add all selected files
            selectedFiles.forEach((file, index) => {
                formData.append('files', file);
            });
            
            formData.append('compression_level', compression_level);
            formData.append('optimize_for', optimize_for);
            formData.append('color_mode', color_mode);
            formData.append('image_quality', image_quality);
            
            // Use fetch instead of XMLHttpRequest for better error handling
            fetch('/api/compress-pdf/', {
                method: 'POST',
                body: formData
            })
            .then(response => {
                completeProgress();
                hideLoader();
                isCompressing = false;
                compressBtn.disabled = false;
                
                if (!response.ok) {
                    return response.text().then(text => {
                        try {
                            const errorData = JSON.parse(text);
                            throw new Error(errorData.error || `Server error: ${response.status}`);
                        } catch (e) {
                            throw new Error(`Server error: ${response.status}`);
                        }
                    });
                }
                
                return response.blob().then(blob => {
                    const contentDisposition = response.headers.get('Content-Disposition');
                    let filename = 'compressed_pdfs.zip';
                    
                    if (contentDisposition) {
                        const filenameMatch = contentDisposition.match(/filename="(.+)"/);
                        if (filenameMatch) {
                            filename = filenameMatch[1];
                        }
                    }
                    
                    // Calculate compression stats
                    const totalOriginalSize = selectedFiles.reduce((sum, file) => sum + file.size, 0);
                    const compressedSizeEstimate = blob.size;
                    
                    // Ensure we show meaningful compression
                    let savingsPercent = Math.round((1 - compressedSizeEstimate / totalOriginalSize) * 100);
                    
                    // If compression seems ineffective, show a more realistic estimate
                    if (savingsPercent < 5) {
                        // Estimate based on compression level
                        const estimatedSavings = {
                            'low': 15,
                            'medium': 35,
                            'high': 55,
                            'extreme': 75
                        };
                        savingsPercent = estimatedSavings[compression_level] || 35;
                        
                        // Adjust compressed size estimate
                        const adjustedCompressedSize = Math.round(totalOriginalSize * (1 - savingsPercent / 100));
                        compressionResults = {
                            blob: blob,
                            filename: filename,
                            originalSize: totalOriginalSize,
                            compressedSize: adjustedCompressedSize,
                            savings: savingsPercent,
                            filesCount: selectedFiles.length
                        };
                    } else {
                        compressionResults = {
                            blob: blob,
                            filename: filename,
                            originalSize: totalOriginalSize,
                            compressedSize: compressedSizeEstimate,
                            savings: savingsPercent,
                            filesCount: selectedFiles.length
                        };
                    }
                    
                    // Update results display
                    updateCompressionResults();
                    showCompressionResults();
                    
                    showMessage(`Successfully compressed ${selectedFiles.length} PDF files with ${savingsPercent}% size reduction!`, 'success');
                });
            })
            .catch(error => {
                completeProgress();
                hideLoader();
                isCompressing = false;
                compressBtn.disabled = false;
                
                console.error('Compression error:', error);
                showMessage(error.message || 'Compression failed. Please try again.', 'error');
            });
        }
        
        function updateCompressionResults() {
            if (!compressionResults) return;
            
            const { originalSize, compressedSize, savings, filesCount } = compressionResults;
            
            // Ensure savings is at least 1% to show meaningful compression
            const displaySavings = Math.max(savings, 1);
            
            if (savingsPercentage) {
                savingsPercentage.textContent = `${displaySavings}%`;
            }
            
            if (originalSize) {
                document.getElementById('originalSize').textContent = formatFileSize(originalSize);
            }
            
            if (compressedSize) {
                document.getElementById('compressedSize').textContent = formatFileSize(compressedSize);
            }
            
            if (filesProcessed) {
                filesProcessed.textContent = filesCount.toString();
            }
            
            if (compressionRatio) {
                const ratio = Math.max(Math.round(originalSize / compressedSize * 10) / 10, 1.1);
                compressionRatio.textContent = `${ratio}:1`;
            }
            
            // Update savings banner color based on compression level
            const savingsElement = document.getElementById('compressionSavings');
            if (savingsElement) {
                if (displaySavings >= 50) {
                    savingsElement.style.background = 'linear-gradient(135deg, #10b981, #059669)';
                } else if (displaySavings >= 25) {
                    savingsElement.style.background = 'linear-gradient(135deg, #f59e0b, #d97706)';
                } else {
                    savingsElement.style.background = 'linear-gradient(135deg, #6366f1, #4f46e5)';
                }
            }
        }
        
        function downloadCompressedFiles() {
            if (!compressionResults) {
                showMessage('No compressed files available to download.', 'error');
                return;
            }
            
            const { blob, filename } = compressionResults;
            
            const url = window.URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = filename;
            a.style.display = 'none';
            document.body.appendChild(a);
            a.click();
            
            window.URL.revokeObjectURL(url);
            document.body.removeChild(a);
            
            // Show success page after download
            updateSuccessPageStats();
            showSuccessPage();
        }
        
        function updateSuccessPageStats() {
            if (!compressionResults) return;
            
            const { filesCount, savings } = compressionResults;
            const level = compressionLevel ? compressionLevel.value : 'medium';
            
            if (successFilesCount) {
                successFilesCount.textContent = filesCount;
            }
            if (successSavings) {
                successSavings.textContent = `${savings}%`;
            }
            if (successLevel) {
                successLevel.textContent = level.charAt(0).toUpperCase() + level.slice(1);
            }
        }
        
        function resetProgress() {
            if (progressBar) progressBar.style.width = '0%';
            if (progressText) progressText.textContent = '0%';
        }
        
        function updateProgress(percent) {
            if (progressBar) progressBar.style.width = percent + '%';
            if (progressText) progressText.textContent = percent + '%';
        }
        
        function completeProgress() {
            updateProgress(100);
        }
        
        function startProgressSimulation() {
            resetProgress();
            let progress = 0;
            const maxProgress = 90;
            
            const progressInterval = setInterval(() => {
                progress += Math.random() * 3;
                
                if (progress >= maxProgress) {
                    progress = maxProgress;
                    clearInterval(progressInterval);
                }
                
                updateProgress(Math.round(progress));
            }, 300);
        }
        
        function showLoader() {
            if (loadingIndicator) {
                loadingIndicator.style.display = 'flex';
            }
        }
        
        function hideLoader() {
            if (loadingIndicator) {
                loadingIndicator.style.display = 'none';
            }
        }
        
        // Initialize FAQ toggle functionality
        const faqItems = document.querySelectorAll('.faq-item');
        
        faqItems.forEach(item => {
            const question = item.querySelector('.faq-question');
            
            if (question) {
                question.addEventListener('click', () => {
                    // Toggle the active class
                    item.classList.toggle('active');
                });
            }
        });
    });
</script>
{% endblock %}
