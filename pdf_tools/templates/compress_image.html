{% extends 'base.html' %}
{% load static %}

{% block title %}Compress Image Online Free - Image Resizer & Photo Compressor | SmallPDF.us{% endblock %}

{% block meta %}
<meta name="description" content="Compress image online free with SmallPDF.us - best image resizer and photo compressor. Resize image, compress photo, reduce file size while maintaining quality. Free online image compressor tool.">
<meta name="keywords" content="compress image, resize image, image resizer, compress photo, smallpdf.us, online image compressor, reduce image size, photo compressor, image optimizer, free image compression">
<meta name="robots" content="index, follow">
<meta name="author" content="SmallPDF.us">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- Open Graph Meta Tags -->
<meta property="og:title" content="Compress Image Online Free - Image Resizer & Photo Compressor | SmallPDF.us">
<meta property="og:description" content="Best online image compressor at SmallPDF.us. Compress image, resize image, compress photo free. Professional image resizer with instant results.">
<meta property="og:type" content="website">
<meta property="og:url" content="https://smallpdf.us/compress-image">
<meta property="og:image" content="{% static 'images/compress-image-tool.jpg' %}">
<meta property="og:site_name" content="SmallPDF.us">

<!-- Twitter Card Meta Tags -->
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="Compress Image Online - Image Resizer Tool | SmallPDF.us">
<meta name="twitter:description" content="Professional online image compressor. Compress image, resize image free with SmallPDF.us - fastest image resizer tool online.">
<meta name="twitter:image" content="{% static 'images/compress-image-tool.jpg' %}">

<!-- Structured Data -->
<script type="application/ld+json">
{
"@context": "https://schema.org",
"@type": "WebApplication",
"name": "Compress Image Online - SmallPDF.us",
"description": "Free online image compressor to compress image, resize image, compress photo at SmallPDF.us",
"url": "https://smallpdf.us/compress-image",
"applicationCategory": "UtilitiesApplication",
"operatingSystem": "Any",
"offers": {
  "@type": "Offer",
  "price": "0",
  "priceCurrency": "USD"
},
"featureList": [
  "Compress image online free",
  "Online image resizer", 
  "Compress photo with batch processing",
  "Resize image with quality control",
  "Real-time image preview",
  "Mobile-optimized image compression"
],
"provider": {
  "@type": "Organization",
  "name": "SmallPDF.us",
  "url": "https://smallpdf.us"
}
}
</script>

<!-- Preload critical resources -->
<link rel="preload" href="{% static 'css/converter.css' %}" as="style">
{% endblock %}

{% block extra_css %}
<style>
  /* Performance optimized CSS with enhanced mobile optimization */
  :root {
      --primary-color: #4361ee;
      --primary-dark: #3a0ca3;
      --success-color: #10b981;
      --error-color: #ef4444;
      --gray-50: #f8fafc;
      --gray-100: #f1f5f9;
      --gray-200: #e2e8f0;
      --gray-300: #cbd5e1;
      --gray-400: #94a3b8;
      --gray-500: #64748b;
      --gray-600: #475569;
      --gray-700: #334155;
      --gray-800: #1e293b;
      --gray-900: #0f172a;
      --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
      --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1);
      --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1);
      --shadow-xl: 0 20px 25px -5px rgb(0 0 0 / 0.1);
  }

  /* Enhanced mobile-first responsive design */
  * {
      box-sizing: border-box;
  }

  .main-wrapper {
      min-height: 100vh;
      background: linear-gradient(135deg, var(--gray-50) 0%, var(--gray-200) 100%);
      padding: 0.5rem;
  }
  
  .converter-container {
      max-width: 800px;
      margin: 0 auto;
      background: white;
      border-radius: 12px;
      box-shadow: var(--shadow-lg);
      overflow: hidden;
      border: 1px solid var(--gray-200);
  }

  /* Mobile-optimized header */
  .tool-header {
      text-align: center;
      padding: 1rem 0.75rem;
      background: linear-gradient(135deg, var(--primary-color) 0%, var(--primary-dark) 100%);
      color: white;
      position: relative;
  }
  
  .tool-header h1 {
      font-size: 1.3rem;
      font-weight: 700;
      margin-bottom: 0.4rem;
      line-height: 1.2;
  }
  
  .tool-header p {
      opacity: 0.9;
      font-size: 0.85rem;
      margin: 0;
      line-height: 1.3;
  }

  /* Mobile-optimized content area */
  .content-area {
      padding: 0.75rem;
  }

  /* Enhanced mobile upload area */
  .upload-area {
      border: 2px dashed var(--gray-300);
      border-radius: 10px;
      padding: 1.5rem 0.75rem;
      text-align: center;
      transition: all 0.2s ease;
      cursor: pointer;
      background: var(--gray-50);
      margin-bottom: 0.75rem;
  }
  
  .upload-area:hover, .upload-area.dragover {
      border-color: var(--primary-color);
      background: #f0f5ff;
      transform: translateY(-1px);
  }
  
  .upload-icon {
      width: 50px;
      height: 50px;
      background: rgba(67, 97, 238, 0.1);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      margin: 0 auto 0.75rem;
      transition: transform 0.2s ease;
  }
  
  .upload-area:hover .upload-icon {
      transform: scale(1.05);
  }
  
  .upload-icon svg {
      width: 24px;
      height: 24px;
      color: var(--primary-color);
  }

  .upload-text h3 {
      font-size: 1.1rem;
      color: var(--gray-800);
      margin-bottom: 0.4rem;
      font-weight: 600;
  }
  
  .upload-text p {
      color: var(--gray-600);
      margin-bottom: 0.75rem;
      font-size: 0.85rem;
      line-height: 1.3;
  }
  
  .upload-btn {
      background: linear-gradient(135deg, var(--primary-color), var(--primary-dark));
      color: white;
      border: none;
      border-radius: 8px;
      padding: 0.65rem 1.2rem;
      font-weight: 600;
      font-size: 0.85rem;
      cursor: pointer;
      transition: all 0.2s ease;
      box-shadow: 0 4px 12px rgba(67, 97, 238, 0.3);
      width: 100%;
      max-width: 200px;
  }
  
  .upload-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(67, 97, 238, 0.4);
  }

  /* Mobile-optimized file preview */
  .file-container {
      display: none;
  }

  .file-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 0.6rem;
      flex-wrap: wrap;
      gap: 0.5rem;
  }

  .file-header h3 {
      font-size: 1rem;
      font-weight: 600;
      color: var(--gray-800);
      margin: 0;
      flex: 1;
      min-width: 120px;
  }

  /* Compact file preview grid */
  .file-preview-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
      gap: 0.5rem;
      margin-bottom: 0.75rem;
      max-height: 200px;
      overflow-y: auto;
      padding: 0.5rem;
      background: var(--gray-50);
      border-radius: 8px;
      border: 1px solid var(--gray-200);
  }

  .file-preview-item {
      background: white;
      border-radius: 6px;
      padding: 0.5rem;
      text-align: center;
      box-shadow: var(--shadow-sm);
      transition: all 0.2s ease;
      position: relative;
      border: 1px solid var(--gray-200);
  }

  .file-preview-item:hover {
      transform: translateY(-1px);
      box-shadow: var(--shadow-md);
  }

  .file-preview-image {
      width: 80px;
      height: 80px;
      object-fit: cover;
      border-radius: 4px;
      margin: 0 auto 0.4rem;
      display: block;
      background: var(--gray-100);
  }

  .file-preview-name {
      font-size: 0.7rem;
      font-weight: 500;
      color: var(--gray-700);
      margin-bottom: 0.2rem;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
  }

  .file-preview-size {
      font-size: 0.65rem;
      color: var(--gray-500);
  }

  .file-remove-btn {
      position: absolute;
      top: 2px;
      right: 2px;
      width: 20px;
      height: 20px;
      background: var(--error-color);
      color: white;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.2s ease;
      opacity: 0.8;
  }

  .file-remove-btn:hover {
      opacity: 1;
      transform: scale(1.1);
  }

  .file-remove-btn svg {
      width: 10px;
      height: 10px;
  }

  /* Mobile-first options layout */
  .options-section {
      display: grid;
      grid-template-columns: 1fr;
      gap: 0.5rem;
      margin: 0.75rem 0;
      padding: 0.75rem;
      background: var(--gray-50);
      border-radius: 8px;
      border: 1px solid var(--gray-200);
  }

  .option-group {
      display: flex;
      flex-direction: column;
  }

  .option-label {
      font-size: 0.75rem;
      font-weight: 600;
      color: var(--gray-700);
      margin-bottom: 0.25rem;
  }

  .option-select, .option-input {
      padding: 0.4rem;
      border: 1px solid var(--gray-300);
      border-radius: 6px;
      font-size: 0.75rem;
      background: white;
      transition: all 0.2s ease;
  }

  .option-select:focus, .option-input:focus {
      border-color: var(--primary-color);
      outline: none;
      box-shadow: 0 0 0 3px rgba(67, 97, 238, 0.1);
  }

  /* Quality slider */
  .quality-slider-container {
      display: flex;
      flex-direction: column;
      gap: 0.25rem;
  }

  .quality-value {
      font-size: 0.8rem;
      font-weight: 600;
      color: var(--primary-color);
      text-align: center;
  }

  .quality-slider {
      -webkit-appearance: none;
      width: 100%;
      height: 6px;
      border-radius: 3px;
      background: var(--gray-200);
      outline: none;
  }

  .quality-slider::-webkit-slider-thumb {
      -webkit-appearance: none;
      appearance: none;
      width: 16px;
      height: 16px;
      border-radius: 50%;
      background: var(--primary-color);
      cursor: pointer;
  }

  .quality-slider::-moz-range-thumb {
      width: 16px;
      height: 16px;
      border-radius: 50%;
      background: var(--primary-color);
      cursor: pointer;
      border: none;
  }

  .quality-labels {
      display: flex;
      justify-content: space-between;
      margin-top: 0.25rem;
  }

  .quality-label {
      font-size: 0.65rem;
      color: var(--gray-500);
  }

  /* Resize options */
  .resize-options {
      display: none;
      margin-top: 0.5rem;
  }

  .resize-options.show {
      display: block;
  }

  /* Mobile-optimized action buttons */
  .action-buttons {
      display: flex;
      flex-direction: column;
      gap: 0.5rem;
      margin-top: 0.75rem;
  }

  .action-btn {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 0.4rem;
      padding: 0.7rem 1rem;
      border-radius: 8px;
      font-weight: 600;
      font-size: 0.8rem;
      cursor: pointer;
      transition: all 0.2s ease;
      text-decoration: none;
      width: 100%;
  }

  .secondary-btn {
      background: white;
      border: 2px solid var(--gray-300);
      color: var(--gray-600);
  }

  .secondary-btn:hover {
      background: var(--gray-50);
      color: var(--gray-700);
      border-color: var(--gray-400);
  }

  .primary-btn {
      background: linear-gradient(135deg, var(--primary-color), var(--primary-dark));
      color: white;
      border: none;
      box-shadow: 0 4px 12px rgba(67, 97, 238, 0.3);
  }

  .primary-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(67, 97, 238, 0.4);
  }

  .primary-btn:disabled {
      opacity: 0.6;
      cursor: not-allowed;
      transform: none;
  }

  /* Mobile-optimized loading overlay */
  .loading-overlay {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(15, 23, 42, 0.8);
      backdrop-filter: blur(4px);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 1000;
      padding: 1rem;
  }

  .loading-content {
      background: white;
      border-radius: 16px;
      padding: 1.5rem 1rem;
      text-align: center;
      width: 100%;
      max-width: 280px;
      box-shadow: var(--shadow-xl);
      animation: slideInUp 0.3s ease-out;
  }

  @keyframes slideInUp {
      from {
          transform: translateY(50px);
          opacity: 0;
      }
      to {
          transform: translateY(0);
          opacity: 1;
      }
  }

  .loader {
      width: 35px;
      height: 35px;
      position: relative;
      margin: 0 auto 0.75rem;
  }

  .loader::before {
      content: '';
      position: absolute;
      width: 35px;
      height: 35px;
      border-radius: 50%;
      border: 3px solid var(--gray-200);
      border-top: 3px solid var(--primary-color);
      animation: spin 1s linear infinite;
  }

  @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
  }

  .loading-progress {
      width: 100%;
      height: 4px;
      background: var(--gray-200);
      border-radius: 2px;
      margin: 0.6rem 0;
      overflow: hidden;
  }

  .progress-bar {
      width: 0%;
      height: 100%;
      background: linear-gradient(135deg, var(--primary-color), var(--primary-dark));
      border-radius: 2px;
      transition: width 0.3s ease;
  }

  /* Mobile-optimized result section */
  .images-result-section {
      display: none;
      margin-top: 0.75rem;
      padding: 1rem;
      background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%);
      border-radius: 12px;
      border: 2px solid #0ea5e9;
      animation: slideIn 0.3s ease-out;
  }

  @keyframes slideIn {
      from {
          transform: translateY(20px);
          opacity: 0;
      }
      to {
          transform: translateY(0);
          opacity: 1;
      }
  }

  .images-result-header {
      text-align: center;
      margin-bottom: 0.75rem;
  }

  .images-result-title {
      font-size: 1.1rem;
      font-weight: 700;
      color: var(--gray-900);
      margin-bottom: 0.4rem;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 0.4rem;
  }

  .success-icon {
      width: 20px;
      height: 20px;
      background: var(--success-color);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      animation: bounceIn 0.5s ease-out;
  }

  @keyframes bounceIn {
      0% { transform: scale(0); }
      50% { transform: scale(1.1); }
      100% { transform: scale(1); }
  }

  .compression-info {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 0.5rem;
      margin-bottom: 0.75rem;
      padding: 0.6rem;
      background: rgba(255, 255, 255, 0.7);
      border-radius: 6px;
  }

  .compression-info-item {
      text-align: center;
  }

  .compression-info-label {
      font-size: 0.65rem;
      color: var(--gray-600);
      font-weight: 500;
      text-transform: uppercase;
      letter-spacing: 0.05em;
  }

  .compression-info-value {
      font-size: 0.8rem;
      font-weight: 700;
      color: var(--gray-900);
      margin-top: 0.15rem;
  }

  .download-section {
      display: flex;
      flex-direction: column;
      gap: 0.5rem;
      justify-content: center;
  }

  .download-btn {
      background: linear-gradient(135deg, var(--success-color), #059669);
      color: white;
      border: none;
      border-radius: 8px;
      padding: 0.7rem 1.2rem;
      font-weight: 600;
      font-size: 0.85rem;
      cursor: pointer;
      transition: all 0.2s ease;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 0.4rem;
      box-shadow: 0 4px 12px rgba(16, 185, 129, 0.3);
      width: 100%;
  }

  .download-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(16, 185, 129, 0.4);
  }

  /* Mobile-optimized messages */
  .message {
      padding: 0.6rem 0.75rem;
      border-radius: 6px;
      margin-bottom: 0.6rem;
      display: flex;
      align-items: center;
      gap: 0.4rem;
      font-size: 0.8rem;
      animation: slideIn 0.3s ease;
  }

  .message-error {
      background: #fef2f2;
      color: #dc2626;
      border-left: 3px solid #dc2626;
  }

  .message-success {
      background: #f0fdf4;
      color: #16a34a;
      border-left: 3px solid #16a34a;
  }

  .message-icon {
      width: 14px;
      height: 14px;
      flex-shrink: 0;
  }

  /* Content sections - Mobile First */
  .content-section {
      padding: 2rem 0.75rem;
      max-width: 1200px;
      margin: 0 auto;
  }

  .section-header {
      text-align: center;
      margin-bottom: 1.5rem;
  }

  .section-title {
      font-size: 1.4rem;
      font-weight: 700;
      color: var(--gray-900);
      margin-bottom: 0.6rem;
      line-height: 1.2;
  }

  .section-subtitle {
      font-size: 0.95rem;
      color: var(--gray-600);
      max-width: 600px;
      margin: 0 auto;
      line-height: 1.4;
  }

  /* Mobile-first instructions grid */
  .instructions-grid {
      display: grid;
      grid-template-columns: 1fr;
      gap: 1rem;
      margin-top: 1.5rem;
  }

  .instruction-card {
      background: white;
      border-radius: 12px;
      padding: 1.25rem;
      box-shadow: var(--shadow-md);
      transition: transform 0.2s ease, box-shadow 0.2s ease;
      text-align: center;
      border: 1px solid var(--gray-200);
  }

  .instruction-card:hover {
      transform: translateY(-2px);
      box-shadow: var(--shadow-lg);
  }

  .instruction-icon {
      width: 50px;
      height: 50px;
      background: rgba(67, 97, 238, 0.1);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      margin: 0 auto 0.75rem;
  }

  .instruction-icon svg {
      width: 24px;
      height: 24px;
      color: var(--primary-color);
  }

  .instruction-card h3 {
      font-size: 1.1rem;
      color: var(--gray-900);
      margin-bottom: 0.6rem;
      font-weight: 600;
  }

  .instruction-card p {
      color: var(--gray-600);
      font-size: 0.9rem;
      line-height: 1.4;
  }

  /* Mobile-first features grid */
  .features-grid {
      display: grid;
      grid-template-columns: 1fr;
      gap: 1rem;
      margin-top: 1.5rem;
  }

  .feature-card {
      background: white;
      border-radius: 12px;
      padding: 1.25rem;
      box-shadow: var(--shadow-md);
      transition: transform 0.2s ease, box-shadow 0.2s ease;
      text-align: center;
      border: 1px solid var(--gray-200);
      position: relative;
      overflow: hidden;
  }

  .feature-card::after {
      content: '';
      position: absolute;
      bottom: 0;
      left: 0;
      width: 100%;
      height: 3px;
      background: linear-gradient(90deg, var(--primary-color), var(--primary-dark));
      transform: scaleX(0);
      transform-origin: left;
      transition: transform 0.3s ease;
  }

  .feature-card:hover {
      transform: translateY(-2px);
      box-shadow: var(--shadow-lg);
  }

  .feature-card:hover::after {
      transform: scaleX(1);
  }

  .feature-icon {
      width: 50px;
      height: 50px;
      background: rgba(67, 97, 238, 0.1);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      margin: 0 auto 0.75rem;
      transition: all 0.2s ease;
  }

  .feature-card:hover .feature-icon {
      background: rgba(67, 97, 238, 0.15);
      transform: scale(1.05);
  }

  .feature-icon svg {
      width: 24px;
      height: 24px;
      color: var(--primary-color);
  }

  .feature-card h3 {
      font-size: 1.1rem;
      color: var(--gray-900);
      margin-bottom: 0.6rem;
      font-weight: 600;
  }

  .feature-card p {
      color: var(--gray-600);
      font-size: 0.9rem;
      line-height: 1.4;
  }

  /* Mobile-optimized FAQ Section */
  .faq-container {
      max-width: 800px;
      margin: 1.5rem auto 0;
  }

  .faq-item {
      border-bottom: 1px solid var(--gray-200);
      margin-bottom: 0.6rem;
  }

  .faq-question {
      font-size: 0.95rem;
      color: var(--gray-900);
      font-weight: 600;
      padding: 0.75rem 0;
      cursor: pointer;
      display: flex;
      justify-content: space-between;
      align-items: center;
      transition: color 0.2s ease;
      line-height: 1.3;
  }

  .faq-question:hover {
      color: var(--primary-color);
  }

  .faq-question svg {
      width: 14px;
      height: 14px;
      color: var(--gray-500);
      transition: transform 0.2s ease;
      flex-shrink: 0;
      margin-left: 0.5rem;
  }

  .faq-item.active .faq-question svg {
      transform: rotate(180deg);
  }

  .faq-answer {
      max-height: 0;
      overflow: hidden;
      transition: max-height 0.3s ease, padding 0.3s ease;
      padding: 0;
  }

  .faq-item.active .faq-answer {
      max-height: 300px;
      padding-bottom: 0.75rem;
  }

  .faq-answer p {
      color: var(--gray-600);
      font-size: 0.85rem;
      line-height: 1.5;
      margin-bottom: 0.6rem;
  }

  /* Mobile-optimized SEO Content */
  .seo-content {
      background: var(--gray-50);
      padding: 2rem 0.75rem;
      border-top: 1px solid var(--gray-200);
  }

  .seo-content h2 {
      font-size: 1.5rem;
      color: var(--gray-900);
      margin-bottom: 0.75rem;
      font-weight: 700;
      line-height: 1.3;
  }

  .seo-content h3 {
      font-size: 1.2rem;
      color: var(--gray-900);
      margin: 1.5rem 0 0.75rem;
      font-weight: 600;
      line-height: 1.3;
  }

  .seo-content p {
      color: var(--gray-700);
      font-size: 0.9rem;
      line-height: 1.6;
      margin-bottom: 0.75rem;
  }

  .seo-content ul, .seo-content ol {
      margin-left: 1.2rem;
      margin-bottom: 1rem;
  }

  .seo-content li {
      color: var(--gray-700);
      margin-bottom: 0.4rem;
      line-height: 1.5;
      font-size: 0.9rem;
  }

  /* Mobile-optimized CTA Section */
  .cta-section {
      background: linear-gradient(135deg, var(--primary-color), var(--primary-dark));
      color: white;
      text-align: center;
      padding: 1.5rem 0.75rem;
  }

  .cta-section h2 {
      font-size: 1.3rem;
      font-weight: 700;
      margin-bottom: 0.6rem;
      line-height: 1.3;
  }

  .cta-section p {
      margin-bottom: 1rem;
      opacity: 0.9;
      font-size: 0.9rem;
      line-height: 1.4;
  }

  .cta-btn {
      background: white;
      color: var(--primary-dark);
      font-weight: 600;
      padding: 0.7rem 1.2rem;
      border-radius: 8px;
      text-decoration: none;
      transition: all 0.2s ease;
      display: inline-block;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
      font-size: 0.85rem;
  }

  .cta-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
  }

  /* Hide file input */
  .file-input {
      display: none;
  }

  /* Tablet optimizations */
  @media (min-width: 480px) {
      .main-wrapper {
          padding: 0.75rem;
      }
      
      .tool-header {
          padding: 1.25rem 1rem;
      }
      
      .tool-header h1 {
          font-size: 1.5rem;
      }
      
      .tool-header p {
          font-size: 0.9rem;
      }
      
      .content-area {
          padding: 1rem;
      }
      
      .upload-area {
          padding: 2rem 1rem;
      }
      
      .upload-icon {
          width: 55px;
          height: 55px;
      }
      
      .upload-icon svg {
          width: 26px;
          height: 26px;
      }
      
      .upload-text h3 {
          font-size: 1.15rem;
      }
      
      .upload-text p {
          font-size: 0.9rem;
      }
      
      .upload-btn {
          width: auto;
          max-width: none;
      }
      
      .file-preview-grid {
          grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
          gap: 0.75rem;
          max-height: 220px;
      }
      
      .file-preview-image {
          width: 100px;
          height: 100px;
      }
      
      .options-section {
          grid-template-columns: repeat(2, 1fr);
          gap: 0.75rem;
          padding: 1rem;
      }
      
      .action-buttons, .download-section {
          flex-direction: row;
          gap: 0.75rem;
      }
      
      .images-result-section {
          padding: 1.25rem;
      }
      
      .compression-info {
          grid-template-columns: repeat(4, 1fr);
      }

      .content-section {
          padding: 2.5rem 1rem;
      }
      
      .section-title {
          font-size: 1.6rem;
      }
      
      .section-subtitle {
          font-size: 1rem;
      }
      
      .instructions-grid, .features-grid {
          grid-template-columns: repeat(2, 1fr);
          gap: 1.25rem;
      }
      
      .instruction-card, .feature-card {
          padding: 1.5rem;
      }
  }

  /* Desktop optimizations */
  @media (min-width: 768px) {
      .main-wrapper {
          padding: 1rem;
      }
      
      .tool-header {
          padding: 1.5rem 1rem;
      }
      
      .tool-header h1 {
          font-size: 1.75rem;
      }
      
      .tool-header p {
          font-size: 0.95rem;
      }
      
      .content-area {
          padding: 1rem;
      }
      
      .upload-area {
          padding: 2rem 1rem;
      }
      
      .upload-icon {
          width: 60px;
          height: 60px;
      }
      
      .upload-icon svg {
          width: 30px;
          height: 30px;
      }
      
      .upload-text h3 {
          font-size: 1.2rem;
      }
      
      .upload-text p {
          font-size: 0.9rem;
      }
      
      .file-preview-grid {
          grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
          gap: 0.75rem;
          max-height: 240px;
      }
      
      .file-preview-image {
          width: 120px;
          height: 120px;
      }
      
      .options-section {
          grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
          gap: 0.75rem;
          padding: 1rem;
      }
      
      .action-buttons {
          flex-direction: row;
          gap: 0.75rem;
      }
      
      .images-result-section {
          padding: 1.5rem;
      }

      .content-section {
          padding: 3rem 1rem;
      }
      
      .section-title {
          font-size: 2rem;
      }
      
      .section-subtitle {
          font-size: 1.1rem;
      }
      
      .instructions-grid, .features-grid {
          grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
          gap: 1.5rem;
      }
      
      .instruction-card, .feature-card {
          padding: 1.5rem;
      }

      .cta-section {
          padding: 2rem 1rem;
      }
      
      .cta-section h2 {
          font-size: 1.5rem;
      }
  }
</style>
{% endblock %}

{% block content %}
<div class="main-wrapper">
  <div class="converter-container">
      <!-- Header -->
      <div class="tool-header">
          <h1>Compress Image Online Free - SmallPDF.us</h1>
          <p>Best image resizer and photo compressor - Compress image, resize image free with SmallPDF.us professional tool</p>
      </div>

      <!-- Main Content -->
      <div class="content-area">
          <!-- Upload Area -->
          <div class="upload-area" id="uploadArea">
              <div class="upload-icon">
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                      <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
                      <circle cx="8.5" cy="8.5" r="1.5"></circle>
                      <polyline points="21 15 16 10 5 21"></polyline>
                  </svg>
              </div>
              <div class="upload-text">
                  <h3>Upload Images to Compress</h3>
                  <p>Use SmallPDF.us image resizer<br>JPG, PNG, WebP files supported</p>
                  <button class="upload-btn" id="selectFileBtn">Select Images</button>
              </div>
              <input type="file" id="fileInput" class="file-input" accept="image/*" multiple>
          </div>

          <!-- File Preview Container -->
          <div class="file-container" id="fileContainer">
              <div class="file-header">
                  <h3>Selected Images</h3>
              </div>

              <!-- Compact File Preview Grid -->
              <div class="file-preview-grid" id="filePreviewGrid">
                  <!-- Images will be populated here -->
              </div>

              <!-- Options Section -->
              <div class="options-section">
                  <div class="option-group">
                      <label class="option-label" for="outputFormat">Format</label>
                      <select class="option-select" id="outputFormat">
                          <option value="auto" selected>Keep Original</option>
                          <option value="jpg">Convert to JPG</option>
                          <option value="png">Convert to PNG</option>
                          <option value="webp">Convert to WebP</option>
                      </select>
                  </div>
                  
                  <div class="option-group">
                      <label class="option-label" for="qualityLevel">Quality</label>
                      <div class="quality-slider-container">
                          <div class="quality-value" id="qualityValue">80%</div>
                          <input type="range" min="30" max="100" value="80" class="quality-slider" id="qualityLevel">
                          <div class="quality-labels">
                              <span class="quality-label">Smaller</span>
                              <span class="quality-label">Better</span>
                          </div>
                      </div>
                  </div>
                  
                  <div class="option-group">
                      <label class="option-label" for="resizeOption">Resize</label>
                      <select class="option-select" id="resizeOption">
                          <option value="none" selected>No Resize</option>
                          <option value="width">Set Width</option>
                          <option value="height">Set Height</option>
                          <option value="percentage">Scale %</option>
                      </select>
                  </div>
                  
                  <div class="resize-options" id="resizeOptions">
                      <div class="option-group">
                          <label class="option-label" for="resizeValue" id="resizeValueLabel">Value</label>
                          <input type="number" class="option-input" id="resizeValue" min="1" value="1000">
                      </div>
                  </div>
              </div>

              <!-- Action Buttons -->
              <div class="action-buttons">
                  <button class="action-btn secondary-btn" id="clearBtn">
                      <svg width="14" height="14" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" />
                      </svg>
                      Clear Images
                  </button>
                  <button class="action-btn primary-btn" id="compressBtn">
                      <svg width="14" height="14" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z" />
                      </svg>
                      Compress Images
                  </button>
              </div>
          </div>

          <!-- Images Result Section -->
          <div class="images-result-section" id="imagesResultSection">
              <div class="images-result-header">
                  <h2 class="images-result-title">
                      <div class="success-icon">
                          <svg style="width: 12px; height: 12px; color: white;" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7" />
                          </svg>
                      </div>
                      Image Compression Success!
                  </h2>
                  <p style="color: #64748b; font-size: 0.85rem; margin: 0;">SmallPDF.us compressed your images perfectly</p>
              </div>

              <div class="compression-info" id="compressionInfo">
                  <div class="compression-info-item">
                      <div class="compression-info-label">Images</div>
                      <div class="compression-info-value" id="totalImages">-</div>
                  </div>
                  <div class="compression-info-item">
                      <div class="compression-info-label">Original</div>
                      <div class="compression-info-value" id="originalSize">-</div>
                  </div>
                  <div class="compression-info-item">
                      <div class="compression-info-label">Compressed</div>
                      <div class="compression-info-value" id="compressedSize">-</div>
                  </div>
                  <div class="compression-info-item">
                      <div class="compression-info-label">Saved</div>
                      <div class="compression-info-value" id="savedPercentage">-</div>
                  </div>
              </div>

              <div class="download-section">
                  <button class="download-btn" id="downloadAllBtn">
                      <svg width="16" height="16" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
                      </svg>
                      Download Compressed Images
                  </button>
                  <button class="action-btn secondary-btn" id="startOverBtn">
                      <svg width="14" height="14" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15" />
                      </svg>
                      Compress More
                  </button>
              </div>
          </div>
      </div>
  </div>
</div>

<!-- Loading Overlay -->
<div class="loading-overlay" id="loadingOverlay">
  <div class="loading-content">
      <div class="loader"></div>
      <h3 style="font-size: 1rem; font-weight: 600; color: #1e293b; margin-bottom: 0.4rem;">Compressing Images...</h3>
      <p style="color: #64748b; margin-bottom: 0.75rem; font-size: 0.85rem;">SmallPDF.us processing your images</p>
      <div class="loading-progress">
          <div class="progress-bar" id="progressBar"></div>
      </div>
      <p style="font-size: 0.75rem; color: #64748b; margin: 0.4rem 0 0;" id="loadingStatus">Preparing...</p>
  </div>
</div>

<!-- Instructions Section -->
<section class="content-section" style="background: white;">
  <div class="section-header">
      <h2 class="section-title">How to Use SmallPDF.us Image Compressor</h2>
      <p class="section-subtitle">Learn how to compress image online free with SmallPDF.us - the best image resizer and photo compressor tool</p>
  </div>
  
  <div class="instructions-grid">
      <div class="instruction-card">
          <div class="instruction-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
                  <circle cx="8.5" cy="8.5" r="1.5"></circle>
                  <polyline points="21 15 16 10 5 21"></polyline>
              </svg>
          </div>
          <h3>1. Upload Images</h3>
          <p>Select your images to compress image using SmallPDF.us image resizer. Upload JPG, PNG, WebP files for instant photo compression.</p>
      </div>
      
      <div class="instruction-card">
          <div class="instruction-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <circle cx="12" cy="12" r="3"></circle>
                  <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path>
              </svg>
          </div>
          <h3>2. Configure Image Resizer Settings</h3>
          <p>Customize your image compression with SmallPDF.us advanced options. Choose format, quality, and resize settings for perfect photo compression.</p>
      </div>
      
      <div class="instruction-card">
          <div class="instruction-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                  <polyline points="7 10 12 15 17 10"></polyline>
                  <line x1="12" y1="15" x2="12" y2="3"></line>
              </svg>
          </div>
          <h3>3. Download Compressed Images</h3>
          <p>Complete your image compression and download your optimized photos. SmallPDF.us image resizer ensures perfect results every time.</p>
      </div>
  </div>
</section>

<!-- Features Section -->
<section class="content-section" style="background: #f8fafc;">
  <div class="section-header">
      <h2 class="section-title">Why SmallPDF.us is the Best Image Compressor</h2>
      <p class="section-subtitle">Discover why SmallPDF.us is the top choice for image compression - the most advanced image resizer and photo compressor available</p>
  </div>
  
  <div class="features-grid">
      <div class="feature-card">
          <div class="feature-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <polyline points="16 18 22 12 16 6"></polyline>
                  <polyline points="8 6 2 12 8 18"></polyline>
              </svg>
          </div>
          <h3>Smart Image Compression</h3>
          <p>SmallPDF.us image compressor uses advanced algorithms to compress image files by up to 90% while maintaining visual quality.</p>
      </div>
      
      <div class="feature-card">
          <div class="feature-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <path d="M15 3h6v6"></path>
                  <path d="M9 21H3v-6"></path>
                  <path d="M21 3l-7 7"></path>
                  <path d="M3 21l7-7"></path>
              </svg>
          </div>
          <h3>Professional Image Resizer</h3>
          <p>Resize image by width, height, or percentage with SmallPDF.us. Our image resizer maintains aspect ratio for perfect results.</p>
      </div>
      
      <div class="feature-card">
          <div class="feature-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"></path>
                  <rect x="8" y="2" width="8" height="4" rx="1" ry="1"></rect>
              </svg>
          </div>
          <h3>Batch Photo Compression</h3>
          <p>Compress photo files in batches with SmallPDF.us. Our image compressor handles multiple images simultaneously for efficiency.</p>
      </div>
      
      <div class="feature-card">
          <div class="feature-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"></path>
              </svg>
          </div>
          <h3>Secure Image Processing</h3>
          <p>SmallPDF.us protects your privacy during image compression. All uploaded photos are encrypted and automatically deleted after processing.</p>
      </div>
      
      <div class="feature-card">
          <div class="feature-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <circle cx="12" cy="12" r="10"></circle>
                  <polyline points="12 6 12 12 16 14"></polyline>
              </svg>
          </div>
          <h3>Fast Image Compression</h3>
          <p>Experience lightning-fast image processing with SmallPDF.us. Our optimized image compressor processes photos in seconds.</p>
      </div>
      
      <div class="feature-card">
          <div class="feature-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path>
                  <line x1="7" y1="7" x2="7.01" y2="7"></line>
              </svg>
          </div>
          <h3>Free Image Compressor</h3>
          <p>Compress image completely free with SmallPDF.us. No hidden costs, no watermarks, no registration required for our image resizer.</p>
      </div>
  </div>
</section>

<!-- FAQ Section -->
<section class="content-section" style="background: white;">
  <div class="section-header">
      <h2 class="section-title">Image Compressor FAQ - SmallPDF.us</h2>
      <p class="section-subtitle">Get answers about SmallPDF.us image compressor - the best image resizer and photo compressor tool</p>
  </div>
  
  <div class="faq-container">
      <div class="faq-item">
          <div class="faq-question">
              How do I compress image online free with SmallPDF.us?
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <polyline points="6 9 12 15 18 9"></polyline>
              </svg>
          </div>
          <div class="faq-answer">
              <p>To compress image with SmallPDF.us image compressor, simply upload your photos using our free image resizer tool above. Choose your preferred settings, then click "Compress Images". Your image compression will be completed instantly.</p>
          </div>
      </div>
      
      <div class="faq-item">
          <div class="faq-question">
              Why is SmallPDF.us the best image compressor and image resizer?
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <polyline points="6 9 12 15 18 9"></polyline>
              </svg>
          </div>
          <div class="faq-answer">
              <p>SmallPDF.us offers the most advanced image compressor with real-time preview, batch processing, custom quality settings, and professional results. Our image resizer maintains high quality while creating optimized files.</p>
          </div>
      </div>
      
      <div class="faq-item">
          <div class="faq-question">
              Can I resize image and compress photo simultaneously?
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <polyline points="6 9 12 15 18 9"></polyline>
              </svg>
          </div>
          <div class="faq-answer">
              <p>Yes! SmallPDF.us image compressor supports simultaneous resizing and compression. Use our image resizer to set width, height, or percentage scaling while compressing your photos.</p>
          </div>
      </div>
      
      <div class="faq-item">
          <div class="faq-question">
              Is SmallPDF.us image compressor secure and private?
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <polyline points="6 9 12 15 18 9"></polyline>
              </svg>
          </div>
          <div class="faq-answer">
              <p>Absolutely. SmallPDF.us uses SSL encryption for all image compression. Your photos are automatically deleted after processing, and we never access or store your images. Compress image with complete privacy.</p>
          </div>
      </div>
      
      <div class="faq-item">
          <div class="faq-question">
              What image formats does SmallPDF.us image compressor support?
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <polyline points="6 9 12 15 18 9"></polyline>
              </svg>
          </div>
          <div class="faq-answer">
              <p>SmallPDF.us image resizer supports JPG, PNG, WebP, and GIF formats. JPG is ideal for photos, PNG for images with transparency, and WebP for maximum compression efficiency.</p>
          </div>
      </div>
      
      <div class="faq-item">
          <div class="faq-question">
              How much can I reduce image file size with SmallPDF.us?
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <polyline points="6 9 12 15 18 9"></polyline>
              </svg>
          </div>
          <div class="faq-answer">
              <p>SmallPDF.us image compressor can reduce file sizes by 60-90% depending on the original image and settings. Our image resizer with compression typically achieves excellent size reduction while maintaining quality.</p>
          </div>
      </div>
  </div>
</section>

<!-- SEO Content Section -->
<section class="seo-content">
  <div class="content-section">
      <h2>SmallPDF.us - The Best Image Compressor and Image Resizer Online</h2>
      <p>SmallPDF.us is the leading platform to <strong>compress image</strong> online with professional results. Our advanced <strong>image compressor</strong> allows you to effortlessly reduce image file sizes while maintaining quality. Whether you need a simple <strong>image resizer</strong> or a powerful <strong>compress photo</strong> tool, SmallPDF.us delivers exceptional quality and speed for all your image optimization needs.</p>
      
      <h3>Why Choose SmallPDF.us Image Compressor and Image Resizer?</h3>
      <p>When you need to <strong>compress image</strong> files, SmallPDF.us stands out as the premier choice among online tools. Our <strong>image compressor</strong> combines cutting-edge technology with user-friendly design to deliver superior results. Here's what makes SmallPDF.us the best <strong>image resizer</strong> and photo compression tool:</p>
      <ul>
          <li><strong>Advanced Image Compression Technology:</strong> SmallPDF.us uses proprietary algorithms to compress image files by up to 90% while maintaining original photo quality</li>
          <li><strong>Professional Image Resizer:</strong> Our image resizer shows exactly how your photos will look after compression and resizing</li>
          <li><strong>Batch Photo Processing:</strong> Compress photo files in batches with our powerful image compressor tool</li>
          <li><strong>Custom Quality Settings:</strong> Choose compression levels, formats, and resize options for perfect image optimization</li>
          <li><strong>Mobile Optimized:</strong> SmallPDF.us image compressor works perfectly on all devices</li>
          <li><strong>Free Image Compression:</strong> No hidden costs or watermarks with our image resizer</li>
      </ul>
      
      <h3>Professional Image Compression for Every Need</h3>
      <p>SmallPDF.us serves professionals, photographers, and individuals who need reliable <strong>image compression</strong>. Our versatile <strong>image compressor</strong> handles diverse requirements, from simple photo optimization to complex batch processing:</p>
      <ol>
          <li><strong>Website Optimization:</strong> Compress image files for faster loading with SmallPDF.us image compressor</li>
          <li><strong>Social Media:</strong> Use our image resizer to optimize photos for social platforms</li>
          <li><strong>Email Attachments:</strong> Our image compressor reduces file sizes for easy email sharing</li>
          <li><strong>Storage Savings:</strong> Compress photo collections to save disk space using SmallPDF.us</li>
          <li><strong>Mobile Sharing:</strong> Resize image files for quick mobile uploads with our image resizer</li>
          <li><strong>Print Preparation:</strong> Optimize images for printing while maintaining quality using SmallPDF.us image compressor</li>
      </ol>
      
      <h3>How SmallPDF.us Creates Perfect Compressed Images</h3>
      <p>Our advanced <strong>image compressor</strong> uses intelligent processing to create optimized photos without sacrificing quality. When you <strong>compress image</strong> files with SmallPDF.us, our system analyzes each photo and applies optimal settings to ensure your compressed images are:</p>
      <ul>
          <li><strong>Optimally Sized:</strong> SmallPDF.us creates compact image files that load quickly and are easy to share</li>
          <li><strong>High Quality:</strong> Our image compressor maintains original photo clarity and color accuracy</li>
          <li><strong>Universally Compatible:</strong> Compressed images from our image resizer open perfectly on any device</li>
          <li><strong>Web-Ready:</strong> Fast-loading photos perfect for websites using our image compressor</li>
          <li><strong>Print-Quality:</strong> Professional results suitable for high-resolution printing with SmallPDF.us</li>
      </ul>
      
      <h3>Advanced Features of SmallPDF.us Image Compressor</h3>
      <p>SmallPDF.us offers the most comprehensive set of features for <strong>image compression</strong>. Our platform goes beyond basic compression to provide professional-grade tools:</p>
      <ul>
          <li><strong>Format Conversion:</strong> Convert between JPG, PNG, and WebP formats with our image compressor</li>
          <li><strong>Quality Control:</strong> Adjust compression levels from 30% to 100% for perfect balance</li>
          <li><strong>Smart Resizing:</strong> Use our image resizer to set width, height, or percentage scaling</li>
          <li><strong>Batch Processing:</strong> Compress photo files in bulk with consistent settings</li>
          <li><strong>Real-time Preview:</strong> See your images before compression with our image compressor</li>
          <li><strong>Mobile Optimization:</strong> Perfect image compression on any device with SmallPDF.us</li>
      </ul>
      
      <h3>Security and Privacy with SmallPDF.us Image Compressor</h3>
      <p>When you <strong>compress image</strong> files with SmallPDF.us, your privacy and security are our top priorities. Our secure <strong>image compressor</strong> ensures your photos remain completely private:</p>
      <ul>
          <li><strong>SSL Encryption:</strong> All image uploads and downloads are protected with 256-bit SSL encryption</li>
          <li><strong>Automatic File Deletion:</strong> Your photos and compressed images are automatically deleted within one hour</li>
          <li><strong>No Registration Required:</strong> Compress image files without creating accounts using SmallPDF.us</li>
          <li><strong>Privacy Compliance:</strong> SmallPDF.us complies with GDPR and international privacy regulations</li>
          <li><strong>Zero Data Storage:</strong> We never permanently store your photos or compressed images</li>
          <li><strong>No Human Access:</strong> Automated processing ensures no one can access your files during compression</li>
      </ul>
  </div>
</section>

<!-- CTA Section -->
<section class="cta-section">
  <div class="content-section">
      <h2>Ready to Compress Image Files with SmallPDF.us?</h2>
      <p>Join millions who trust SmallPDF.us for professional image compression. Use our image compressor and image resizer free!</p>
      <a href="#uploadArea" class="cta-btn">Start Compressing Images Now</a>
  </div>
</section>

<script>
document.addEventListener('DOMContentLoaded', function() {
  // Performance optimized JavaScript for image compression
  const uploadArea = document.getElementById('uploadArea');
  const fileInput = document.getElementById('fileInput');
  const selectFileBtn = document.getElementById('selectFileBtn');
  const fileContainer = document.getElementById('fileContainer');
  const filePreviewGrid = document.getElementById('filePreviewGrid');
  const clearBtn = document.getElementById('clearBtn');
  const compressBtn = document.getElementById('compressBtn');
  const loadingOverlay = document.getElementById('loadingOverlay');
  const imagesResultSection = document.getElementById('imagesResultSection');
  const downloadAllBtn = document.getElementById('downloadAllBtn');
  const startOverBtn = document.getElementById('startOverBtn');
  const progressBar = document.getElementById('progressBar');
  const loadingStatus = document.getElementById('loadingStatus');
  
  // Options elements
  const outputFormat = document.getElementById('outputFormat');
  const qualityLevel = document.getElementById('qualityLevel');
  const qualityValue = document.getElementById('qualityValue');
  const resizeOption = document.getElementById('resizeOption');
  const resizeOptions = document.getElementById('resizeOptions');
  const resizeValue = document.getElementById('resizeValue');
  const resizeValueLabel = document.getElementById('resizeValueLabel');
  
  // State
  let selectedFiles = [];
  let compressionResults = null;
  let isCompressing = false;

  // Quality slider update
  qualityLevel.addEventListener('input', function() {
      qualityValue.textContent = this.value + '%';
  });

  // Resize option change handler
  resizeOption.addEventListener('change', function() {
      const value = this.value;
      if (value === 'none') {
          resizeOptions.classList.remove('show');
      } else {
          resizeOptions.classList.add('show');
          
          if (value === 'width') {
              resizeValueLabel.textContent = 'Width (px)';
              resizeValue.placeholder = '1920';
              resizeValue.value = '1920';
          } else if (value === 'height') {
              resizeValueLabel.textContent = 'Height (px)';
              resizeValue.placeholder = '1080';
              resizeValue.value = '1080';
          } else if (value === 'percentage') {
              resizeValueLabel.textContent = 'Scale (%)';
              resizeValue.placeholder = '50';
              resizeValue.value = '50';
          }
      }
  });

  // Event Listeners
  selectFileBtn.addEventListener('click', () => fileInput.click());
  fileInput.addEventListener('change', handleFileSelection);
  clearBtn.addEventListener('click', clearFiles);
  compressBtn.addEventListener('click', compressImages);
  downloadAllBtn.addEventListener('click', downloadCompressedImages);
  startOverBtn.addEventListener('click', startOver);

  // Optimized drag and drop
  ['dragenter', 'dragover', 'dragleave', 'drop'].forEach(eventName => {
      uploadArea.addEventListener(eventName, preventDefaults, { passive: false });
  });

  ['dragenter', 'dragover'].forEach(eventName => {
      uploadArea.addEventListener(eventName, () => uploadArea.classList.add('dragover'), { passive: true });
  });

  ['dragleave', 'drop'].forEach(eventName => {
      uploadArea.addEventListener(eventName, () => uploadArea.classList.remove('dragover'), { passive: true });
  });

  uploadArea.addEventListener('drop', handleDrop, { passive: false });

  function preventDefaults(e) {
      e.preventDefault();
      e.stopPropagation();
  }

  function handleDrop(e) {
      const dt = e.dataTransfer;
      const files = dt.files;
      if (files.length > 0) {
          handleFiles(Array.from(files));
      }
  }

  function handleFileSelection(e) {
      const files = e.target.files;
      if (files && files.length > 0) {
          handleFiles(Array.from(files));
          fileInput.value = '';
      }
  }

  function handleFiles(files) {
      // Validate files
      const validFiles = [];
      const maxFileSize = 25 * 1024 * 1024; // 25MB
      const maxTotalSize = 100 * 1024 * 1024; // 100MB
      let totalSize = 0;

      for (const file of files) {
          if (!file.type.startsWith('image/')) {
              showMessage(`File "${file.name}" is not an image. Please select only image files.`, 'error');
              return;
          }

          if (file.size > maxFileSize) {
              showMessage(`File "${file.name}" exceeds 25MB limit. Please choose a smaller file.`, 'error');
              return;
          }

          totalSize += file.size;
          validFiles.push(file);
      }

      if (totalSize > maxTotalSize) {
          showMessage('Total file size exceeds 100MB limit. Please select fewer or smaller files.', 'error');
          return;
      }

      if (validFiles.length > 50) {
          showMessage('Maximum 50 images allowed. Please select fewer files.', 'error');
          return;
      }

      selectedFiles = validFiles;
      updateFilePreview();
      showFileContainer();
      
      showMessage(`${validFiles.length} image(s) loaded successfully.`, 'success');
  }

  function updateFilePreview() {
      filePreviewGrid.innerHTML = '';
      
      selectedFiles.forEach((file, index) => {
          const fileItem = document.createElement('div');
          fileItem.className = 'file-preview-item';
          
          const reader = new FileReader();
          reader.onload = (e) => {
              const img = fileItem.querySelector('.file-preview-image');
              img.src = e.target.result;
          };
          reader.readAsDataURL(file);
          
          fileItem.innerHTML = `
              <img class="file-preview-image" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='80' height='80' viewBox='0 0 24 24' fill='none' stroke='%23cbd5e1' stroke-width='2'%3E%3Crect x='3' y='3' width='18' height='18' rx='2' ry='2'/%3E%3Ccircle cx='8.5' cy='8.5' r='1.5'/%3E%3Cpolyline points='21 15 16 10 5 21'/%3E%3C/svg%3E" alt="Image preview">
              <div class="file-preview-name">${file.name}</div>
              <div class="file-preview-size">${formatFileSize(file.size)}</div>
              <button class="file-remove-btn" data-index="${index}" type="button" aria-label="Remove file">
                  <svg width="10" height="10" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                  </svg>
              </button>
          `;
          
          const removeBtn = fileItem.querySelector('.file-remove-btn');
          removeBtn.addEventListener('click', () => removeFile(index));
          
          filePreviewGrid.appendChild(fileItem);
      });
  }

  function removeFile(index) {
      selectedFiles.splice(index, 1);
      
      if (selectedFiles.length === 0) {
          showUploadArea();
      } else {
          updateFilePreview();
      }
  }

 // Replace the compressImages function in your compress_image.html template

function compressImages() {
    if (!selectedFiles || selectedFiles.length === 0) {
        showMessage('Please select images to compress.', 'error');
        return;
    }

    if (isCompressing) return;

    isCompressing = true;
    compressBtn.disabled = true;
    showLoading();

    // Simulate progress updates
    let progress = 0;
    const progressInterval = setInterval(() => {
        progress += Math.random() * 15;
        if (progress > 85) {
            progress = 85;
            clearInterval(progressInterval);
        }
        
        let status = 'Preparing...';
        if (progress > 20) status = 'Processing images...';
        if (progress > 50) status = 'Compressing...';
        if (progress > 75) status = 'Finalizing...';
        
        updateProgress(progress, status);
    }, 200);

    const formData = new FormData();
    
    // IMPORTANT: Change 'images' to 'files' to match the API
    selectedFiles.forEach(file => {
        formData.append('files', file);  // Changed from 'images' to 'files'
    });
    
    formData.append('output_format', outputFormat.value);
    formData.append('quality', qualityLevel.value);
    formData.append('resize_option', resizeOption.value);
    if (resizeValue.value) {
        formData.append('resize_value', resizeValue.value);
    }

    console.log('Sending compression request...');
    console.log('Files:', selectedFiles.length);
    console.log('Settings:', {
        output_format: outputFormat.value,
        quality: qualityLevel.value,
        resize_option: resizeOption.value,
        resize_value: resizeValue.value
    });

    fetch('/api/compress-image/', {
        method: 'POST',
        body: formData
    })
    .then(response => {
        clearInterval(progressInterval);
        updateProgress(100, 'Complete!');
        
        console.log('Response status:', response.status);
        console.log('Response headers:', [...response.headers.entries()]);
        
        if (!response.ok) {
            return response.json().then(err => Promise.reject(err));
        }
        
        // Get compression info from headers
        const originalSize = parseInt(response.headers.get('X-Original-Size') || '0');
        const compressedSize = parseInt(response.headers.get('X-Compressed-Size') || '0');
        const savingsPercent = parseInt(response.headers.get('X-Savings-Percent') || '0');
        const filesCount = parseInt(response.headers.get('X-Files-Count') || selectedFiles.length);
        
        console.log('Compression info:', {
            originalSize,
            compressedSize,
            savingsPercent,
            filesCount
        });
        
        return response.blob().then(blob => {
            console.log('Received blob:', blob.size, 'bytes, type:', blob.type);
            
            return {
                blob: blob,
                originalSize: originalSize || selectedFiles.reduce((sum, file) => sum + file.size, 0),
                compressedSize: compressedSize || blob.size,
                savings: savingsPercent || Math.max(1, Math.round((1 - blob.size / selectedFiles.reduce((sum, file) => sum + file.size, 0)) * 100)),
                filesCount: filesCount
            };
        });
    })
    .then(data => {
        console.log('Final compression data:', data);
        compressionResults = data;
        
        setTimeout(() => {
            hideLoading();
            showImagesResult();
            updateCompressionInfo();
        }, 1000);
    })
    .catch(error => {
        clearInterval(progressInterval);
        hideLoading();
        console.error('Compression error:', error);
        
        let errorMessage = 'Compression failed. Please try again.';
        if (error && error.error) {
            errorMessage = error.error;
        } else if (error && typeof error === 'string') {
            errorMessage = error;
        }
        
        showMessage(errorMessage, 'error');
    })
    .finally(() => {
        isCompressing = false;
        compressBtn.disabled = false;
    });
}

// Also update the downloadCompressedImages function
function downloadCompressedImages() {
    if (!compressionResults) {
        showMessage('No compressed images available to download.', 'error');
        return;
    }

    console.log('Starting download...', compressionResults.blob);

    const url = window.URL.createObjectURL(compressionResults.blob);
    const a = document.createElement('a');
    a.href = url;
    
    // Generate appropriate filename
    if (selectedFiles.length === 1) {
        const originalName = selectedFiles[0].name;
        const nameWithoutExt = originalName.substring(0, originalName.lastIndexOf('.')) || originalName;
        const outputExt = outputFormat.value === 'auto' ? 
            originalName.substring(originalName.lastIndexOf('.')) : 
            '.' + (outputFormat.value === 'jpg' ? 'jpg' : outputFormat.value);
        a.download = `compressed_${nameWithoutExt}${outputExt}`;
    } else {
        a.download = 'compressed_images.zip';
    }
    
    console.log('Download filename:', a.download);
    
    a.style.display = 'none';
    document.body.appendChild(a);
    a.click();
    
    // Clean up
    setTimeout(() => {
        window.URL.revokeObjectURL(url);
        document.body.removeChild(a);
    }, 100);
    
    showMessage('Download started successfully!', 'success');
}
  function updateCompressionInfo() {
      if (!compressionResults) return;
      
      document.getElementById('totalImages').textContent = compressionResults.filesCount;
      document.getElementById('originalSize').textContent = formatFileSize(compressionResults.originalSize);
      document.getElementById('compressedSize').textContent = formatFileSize(compressionResults.compressedSize);
      document.getElementById('savedPercentage').textContent = compressionResults.savings + '%';
  }

  function downloadCompressedImages() {
      if (!compressionResults) {
          showMessage('No compressed images available to download.', 'error');
          return;
      }

      const url = window.URL.createObjectURL(compressionResults.blob);
      const a = document.createElement('a');
      a.href = url;
      a.download = selectedFiles.length === 1 ? 
          `compressed_${selectedFiles[0].name}` : 
          'compressed_images.zip';
      a.style.display = 'none';
      document.body.appendChild(a);
      a.click();
      window.URL.revokeObjectURL(url);
      document.body.removeChild(a);
      
      showMessage('Download started successfully!', 'success');
  }

  function clearFiles() {
      selectedFiles = [];
      compressionResults = null;
      showUploadArea();
      clearMessages();
  }

  function startOver() {
      clearFiles();
  }

  function showFileContainer() {
      uploadArea.style.display = 'none';
      fileContainer.style.display = 'block';
      imagesResultSection.style.display = 'none';
  }

  function showUploadArea() {
      uploadArea.style.display = 'block';
      fileContainer.style.display = 'none';
      imagesResultSection.style.display = 'none';
  }

  function showImagesResult() {
      uploadArea.style.display = 'none';
      fileContainer.style.display = 'none';
      imagesResultSection.style.display = 'block';
  }

  function showLoading() {
      loadingOverlay.style.display = 'flex';
  }

  function hideLoading() {
      loadingOverlay.style.display = 'none';
  }

  function updateProgress(percentage, status) {
      progressBar.style.width = percentage + '%';
      loadingStatus.textContent = status;
  }

  function formatFileSize(bytes) {
      if (bytes === 0) return '0 Bytes';
      const k = 1024;
      const sizes = ['Bytes', 'KB', 'MB', 'GB'];
      const i = Math.floor(Math.log(bytes) / Math.log(k));
      return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];
  }

  function showMessage(message, type = 'error') {
      clearMessages();
      
      const messageDiv = document.createElement('div');
      messageDiv.className = `message message-${type}`;
      
      const iconSvg = type === 'error' ? 
          `<svg class="message-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <circle cx="12" cy="12" r="10"></circle>
              <line x1="12" y1="8" x2="12" y2="12"></line>
              <line x1="12" y1="16" x2="12.01" y2="16"></line>
          </svg>` :
          `<svg class="message-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path>
              <polyline points="22 4 12 14.01 9 11.01"></polyline>
          </svg>`;
      
      messageDiv.innerHTML = `${iconSvg}<span>${message}</span>`;
      
      const contentArea = document.querySelector('.content-area');
      contentArea.insertBefore(messageDiv, contentArea.firstChild);
      
      setTimeout(() => {
          if (messageDiv.parentNode) {
              messageDiv.remove();
          }
      }, 5000);
  }

  function clearMessages() {
      const messages = document.querySelectorAll('.message');
      messages.forEach(msg => msg.remove());
  }

  // Initialize FAQ functionality
  const faqItems = document.querySelectorAll('.faq-item');
  faqItems.forEach(item => {
      const question = item.querySelector('.faq-question');
      if (question) {
          question.addEventListener('click', () => {
              item.classList.toggle('active');
          });
      }
  });

  // Initialize smooth scrolling for anchor links
  document.querySelectorAll('a[href^="#"]').forEach(anchor => {
      anchor.addEventListener('click', function (e) {
          e.preventDefault();
          const target = document.querySelector(this.getAttribute('href'));
          if (target) {
              target.scrollIntoView({
                  behavior: 'smooth',
                  block: 'start'
              });
          }
      });
  });

  // Initialize
  showUploadArea();
});
</script>
{% endblock %}
